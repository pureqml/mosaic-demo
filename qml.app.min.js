var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(g,d,F){g!=Array.prototype&&g!=Object.prototype&&(g[d]=F.value)};$jscomp.getGlobal=function(g){return"undefined"!=typeof window&&window===g?g:"undefined"!=typeof global&&null!=global?global:g};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(g,d,F,I){if(d){F=$jscomp.global;g=g.split(".");for(I=0;I<g.length-1;I++){var la=g[I];la in F||(F[la]={});F=F[la]}g=g[g.length-1];I=F[g];d=d(I);d!=I&&null!=d&&$jscomp.defineProperty(F,g,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Array.prototype.fill",function(g){return g?g:function(d,g,I){var F=this.length||0;0>g&&(g=Math.max(0,F+g));if(null==I||I>F)I=F;I=Number(I);0>I&&(I=Math.max(0,F+I));for(g=Number(g||0);g<I;g++)this[g]=d;return this}},"es6","es3");
var log=null,$manifest$author$email="team@pureqml.com",$manifest$author$name="PureQML Team",$manifest$author$organization="PureQML",$manifest$author$site="https://pureqml.com",$manifest$cssAutoClassificator=!1,$manifest$cssDisableTransformations=!1,$manifest$cssDisableTransitions=!1,$manifest$disableAnimations=!1,$manifest$domain="com.pureqml.mosaicdemo",$manifest$expectRunContextEvent=!1,$manifest$html5$prefix="",$manifest$log$disable=!1,$manifest$requireExplicitRecursiveVisibilityStyle=!1,$manifest$requireVerticalTextAlignmentStyle=
!1,$manifest$resolutionHeight=720,$manifest$resolutionWidth=1280,$manifest$style$font$family="Arial",$manifest$style$font$lineHeight=1.2,$manifest$style$font$pixelSize=16,$manifest$style$font$pointSize=0,$manifest$system$fingerprint=!1,$manifest$title="mosaic",$manifest$trace$focus=!1,$manifest$trace$keys=!1,$manifest$trace$listeners=!1,$manifest$useNativeFocusForInput=!0,$manifest$virtual$height=720,$manifest$virtual$width=1280,qml=function(){var g={};g.core||(g.core={});var d=g.core;g.web||(g.web=
{});g.controls||(g.controls={});g.controls.core||(g.controls.core={});var F=g.controls.core;g.controls.pure||(g.controls.pure={});g.controls.experimental||(g.controls.experimental={});var I=g.controls.experimental;g.controls.web||(g.controls.web={});var la=g.controls.web;g.controls.web.api||(g.controls.web.api={});var ya=g.controls.web.api;g.video||(g.video={});g.video.html5||(g.video.html5={});g.html5||(g.html5={});var Sa=g.html5;g.src||(g.src={});var za=g.src;g.core.core=function(){d.device=0;d.vendor=
"";d.__videoBackends={};"undefined"!==typeof navigator?(g.core.os=navigator.platform,g.core.userAgent=navigator.userAgent,g.core.language=navigator.language):(g.core.os="unknown",g.core.userAgent="Unknown");var a=function(a,b){0>g.core.userAgent.indexOf(a)||(g.core.vendor=b.vendor,g.core.device=b.device,g.core.os=b.os)};g.core.vendor||(a("Blackberry",{vendor:"blackberry",device:2,os:"blackberry"}),a("Android",{vendor:"google",device:2,os:"android"}),a("iPhone",{vendor:"apple",device:2,os:"iOS"}),
a("iPad",{vendor:"apple",device:2,os:"iOS"}),a("iPod",{vendor:"apple",device:2,os:"iOS"}));0<=g.core.userAgent.indexOf("Chromium")?g.core.browser="Chromium":0<=g.core.userAgent.indexOf("Chrome")?g.core.browser="Chrome":0<=g.core.userAgent.indexOf("Opera")?g.core.browser="Opera":0<=g.core.userAgent.indexOf("Firefox")?g.core.browser="Firefox":0<=g.core.userAgent.indexOf("Safari")?g.core.browser="Safari":0<=g.core.userAgent.indexOf("MSIE")?g.core.browser="IE":0<=g.core.userAgent.indexOf("YaBrowser")?
g.core.browser="Yandex":g.core.browser="";g._backend=function(){return g.html5.html};g.core.__locationBackend=function(){return g.html5.location};g.core.__localStorageBackend=function(){return g.html5.localstorage};g.core.__videoBackends.html5=function(){return g.video.html5.backend};g.core.__deviceBackend=function(){return g.web.device};g.core.keyCodes={13:"Select",16:"Shift",17:"Ctrl",18:"LeftAlt",27:"Back",37:"Left",32:"Space",33:"PageUp",34:"PageDown",36:"Menu",38:"Up",39:"Right",40:"Down",48:"0",
49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",112:"Red",113:"Green",114:"Yellow",115:"Blue",219:"Red",221:"Green",186:"Yellow",222:"Blue",230:"RightAlt",187:"VolumeUp",189:"VolumeDown",191:"Mute",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",107:"VolumeUp",109:"VolumeDown",
111:"Mute"};g.closeApp=function(){window.close()};Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,f=function(){},h=function(){return c.apply(this instanceof f&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};f.prototype=this.prototype;h.prototype=new f;return h},null===log&&(log=function(){for(var a="",
b=0;b<arguments.length;++b)a+=arguments[b]+" ";console.log(a)}));null===log&&(log=console.log.bind(console));var b={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",
darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",
forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",
lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",
mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",
seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32","":"",transparent:"0000"};g.core.safeCall=function(a,b,c){return function(f){a:{try{var h=f.apply(a,b);break a}catch(sd){c(sd)}h=void 0}return h}};
g.core.assign=function(a,b,c){b=b.split(".");for(var f=b.length-1,h=0;h<f;++h)a=a[b[h]];a[b[f]]=c};d.getKeyCodeByName=function(a){var b=d.keyCodes,c;for(c in b)if(b[c]===a)return~~c};a=d.CoreObject=function(a){this._local=Object.create(a?a._local:null)};var c=a.prototype;c.componentName="core.CoreObject";c.constructor=a;c.$c=function(){};c.$s=function(){};c.__init=function(){var a={};this.$c(a);this.$s(a);this.completed()};c.__complete=function(){};c._get=function(a,b){if(a in this)return this[a];
if(a in this._local)return this._local[a];if(b)return null;throw Error("invalid property requested: '"+a+"'");};var f=d.Color=function(a){if(Array.isArray(a))this.r=a[0],this.g=a[1],this.b=a[2],this.a=void 0!==a[3]?a[3]:255;else if("string"!==typeof a)this.r=this.b=this.a=255,this.g=0,log("invalid color specification: "+a,Error().stack);else{if("#"===a[0])var c=a.substring(1);else{if("rgba"===a.substring(0,4)){var f=a.indexOf("(");c=a.lastIndexOf(")");a=a.substring(f+1,c).split(",");this.r=parseInt(a[0],
10);this.g=parseInt(a[1],10);this.b=parseInt(a[2],10);this.a=Math.floor(255*parseFloat(a[3]));return}c=b[a]}if(c){var h=c.length;if(3===h||4===h){a=parseInt(c[0],16);var d=parseInt(c[1],16);f=parseInt(c[2],16);c=4===h?parseInt(c[3],16):15;this.r=a<<4|a;this.g=d<<4|d;this.b=f<<4|f;this.a=c<<4|c}else if(6===h||8===h)this.r=parseInt(c.substring(0,2),16),this.g=parseInt(c.substring(2,4),16),this.b=parseInt(c.substring(4,6),16),this.a=8===h?parseInt(c.substring(6,8),16):255;else throw Error("invalid color specification: "+
a);}else this.r=this.b=this.a=255,this.g=0,log("invalid color specification: "+a,Error().stack)}};f.interpolate=function(a,b,c){a instanceof f||(a=new f(a));b instanceof f||(b=new f(b));var h=function(a,b,c){return Math.floor(c*(a-b)+b)},d=h(a.r,b.r,c),e=h(a.g,b.g,c),V=h(a.b,b.b,c);a=h(a.a,b.a,c);return new f([d,e,V,a])};f.normalize=function(a){return a instanceof f?a:new f(a)};a=f.prototype;a.constructor=d.Color;a.rgba=a.toString=function(){var a=this.a;return 255==a?"rgb("+this.r+","+this.g+","+
this.b+")":"rgba("+this.r+","+this.g+","+this.b+","+a/255+")"};var h=function(a){var b=a>>4&15;a&=15;return String.fromCharCode(b+(9<b?87:48),a+(9<a?87:48))};a.hex=function(){return"#"+h(this.r)+h(this.g)+h(this.b)+h(this.a)};a.ahex=function(){return"#"+h(this.a)+h(this.r)+h(this.g)+h(this.b)};g.addLazyProperty=function(a,b,c){var f=function(a){var f=a.__properties,h=f[b];return void 0!==h?(void 0===h.value&&(h.value=c(a)),h):f[b]=new e(c(a))};Object.defineProperty(a,b,{get:function(){return f(this).value},
set:function(c){if(!f(this).forwardSet(this,b,c,null))throw Error("could not set lazy property "+b+" in "+a.componentName);},enumerable:!0})};g.addConstProperty=function(a,b,c){Object.defineProperty(a,b,{get:function(){return c.call(this)},set:function(a){throw Error("could not set const property");},enumerable:!0})};var e=function(a){this.value=a;this.onChanged=[]};g.PropertyStorage=e;a=e.prototype;a.getAnimation=function(a,b){return(a=this.animation)&&a.enabled()&&!a._native&&a._context._completed?
a:null};a.__removeUpdater=function(a){for(var b=this.deps,c=0,f=b.length;c<f;c+=2)b[c].removeOnChanged(b[c+1],a)};a.removeUpdater=function(){var a=this.callback;void 0!==a&&(this.__removeUpdater(a),this.deps=this.callback=void 0)};a.replaceUpdater=function(a,b,c){var f=this.callback;void 0!==f&&this.__removeUpdater(f);this.callback=b;this.deps=c;f=a.connectOnChanged;for(var h=0,d=c.length;h<d;h+=2)f.call(a,c[h],c[h+1],b);b()};a.forwardSet=function(a,b,c,f){f=this.getCurrentValue(f);if(null!==f&&f instanceof
Object){var h=f.defaultProperty;if(void 0===h)return!1;var d=f[h];c!==d&&(f[h]=c,this.callOnChanged(a,b,c,d));return!0}if(c instanceof Object){h=c.defaultProperty;if(void 0===h)return!1;a.connectOnChanged(c,h,function(c,f){var h=a.__properties[b];void 0!==h&&h.callOnChanged(a,b,c,f)});return!1}};a.discard=function(){var a=this.getAnimation();a&&a.complete();this.onChanged=[]};a.getSimpleValue=function(a){var b=this.value;return void 0!==b?b:a};a.getCurrentValue=function(a){var b=this.interpolatedValue;
return void 0!==b?b:this.getSimpleValue(a)};a.setCurrentValue=function(a,b,c,f,h){f=this.value;this.interpolatedValue=void 0;this.value=c;h&&this.callOnChanged(a,b,c,f)};a.set=function(a,b,c,f,h){var d=this.value;void 0===d&&(d=f);d===c||this.forwardSet(a,b,c,f)||(this.value=c,h&&this.callOnChanged(a,b,c,d))};var w=function(a,b,c,f){var h=a["__changed__"+b],e=void 0!==h,V=void 0!==f;if(e||V)a=d.safeCall(a,[c],function(a){log("on "+b+" changed callback failed: ",a,a.stack)}),e&&h.forEach(a),V&&f.forEach(a)};
a.callOnChanged=function(a,b,c){w(a,b,c,this.onChanged)};a.removeOnChanged=function(a){var b=this.onChanged;a=b.indexOf(a);if(0<=a)return b.splice(a,1)};var E=g.getDefaultValueForType=function(a){switch(a){case "enum":case "int":return 0;case "bool":return!1;case "real":return 0;case "string":return"";case "array":return[];case "color":case "Color":return"#0000";default:return a[0].toUpperCase()===a[0]?null:void 0}};g.convertTo=function(a,b){switch(a){case "enum":case "int":return~~b;case "bool":return b?
!0:!1;case "real":return+b;case "string":return String(b);default:return b}};var k=g.getConvertFunction=function(a){switch(a){case "enum":case "int":return function(a){return~~a};case "bool":return function(a){return a?!0:!1};case "real":return function(a){return+a};case "string":return function(a){return String(a)};default:return function(a){return a}}};g.addProperty=function(a,b,c,f){var h=k(b);a:switch(b){case "int":case "real":case "color":case "Color":var d=!0;break a;default:d=!1}f=void 0!==
f?h(f):E(b);var V=function(a){var b=this.__properties,h=b[c];if(void 0===h){if(a===f)return;h=b[c]=new e(f)}return h};b=function(a){a=h(a);var b=V.call(this,a);void 0!==b&&b.set(this,c,a,f,!0)};var g=function(a){a=h(a);var b=V.call(this,a);if(void 0!==b){var d=b.getAnimation();if(d&&b.value!==a){var e=this._context,g=e.backend;b.frameRequest&&g.cancelAnimationFrame(b.frameRequest);b.started=Date.now();var w=b.getCurrentValue(f),E=a,Aa=this,Ta=function(){b.frameRequest&&(g.cancelAnimationFrame(b.frameRequest),
b.frameRequest=void 0);d.complete=function(){};b.interpolatedValue=void 0;b.started=void 0;d.running=!1;b.callOnChanged(Aa,c,E,w)},k=d.duration,l=e.wrapNativeCallback(function(){var a=(Date.now()-b.started)/k;1<=a||!d.active()?Ta():(b.interpolatedValue=h(d.interpolate(E,w,a)),b.callOnChanged(Aa,c,b.getCurrentValue(f),w),b.frameRequest=g.requestAnimationFrame(l))});b.frameRequest=g.requestAnimationFrame(l);d.running=!0;d.complete=Ta}b.set(this,c,a,f,!d)}};Object.defineProperty(a,c,{get:d?function(){var a=
this.__properties[c];return void 0!==a?a.getCurrentValue(f):f}:function(){var a=this.__properties[c];return void 0!==a?a.getSimpleValue(f):f},set:d?g:b,enumerable:!0})};g.addAliasProperty=function(a,b,c,f){var h=c();a.connectOnChanged(h,f,function(c){var f=a.__properties[b];void 0!==f?f.callOnChanged(a,b,c):w(a,b,c)});Object.defineProperty(a,b,{get:function(){return h[f]},set:function(a){h[f]=a},enumerable:!0})};d.createSignal=function(a){return function(){this.emitWithArgs(a,arguments)}};d.createSignalForwarder=
function(a,b){return function(){a.emitWithArgs(b,arguments)}};d.EventBinder=function(a){this.target=a;this.callbacks={};this.enabled=!1};d.EventBinder.prototype.on=function(a,b){if(a in this.callbacks)throw Error("double adding of event ("+a+")");this.callbacks[a]=b;if(this.enabled)this.target.on(a,b)};d.EventBinder.prototype.constructor=d.EventBinder;d.EventBinder.prototype.enable=function(a){if(a!=this.enabled){var b=this.target;if(this.enabled=a)for(var c in this.callbacks)b.on(c,this.callbacks[c]);
else for(c in this.callbacks)b.removeListener(c,this.callbacks[c])}};var Aa=function(a,b,c,f){a+=c;c=b[a];void 0!==c?b.hasOwnProperty(a)?c.push(f):(c=c.slice(),c.push(f),b[a]=c):b[a]=[f]};d._protoOn=function(a,b,c){Aa("__on__",a,b,c)};d._protoOnChanged=function(a,b,c){Aa("__changed__",a,b,c)};d._protoOnKey=function(a,b,c){Aa("__key__",a,b,c)};var l=function(a){this._callback=a;this._queue=[];this.history=[]};a=l.prototype;a.constructor=l;a.unshift=function(){var a=this._queue;a.unshift.apply(a,arguments)};
a.push=function(){var a=this._queue;a.push.apply(a,arguments)};a.enumerate=function(a,b){b=[this,b];var c=this._queue;for(c.unshift(a);c.length&&(a=c.shift(),this.history.push(a),!this._callback.apply(a,b)););};g.forEach=function(a,b,c){(new l(b)).enumerate(a,c);return c};g.createObject=function(a){a.__init();var b=a.parent;"_updateVisibilityForChild"in b&&b._updateVisibilityForChild(a,b.recursiveVisible);"_tryFocus"in b&&b._tryFocus();a._context.scheduleComplete()};return g}();var e=g.core.core,
Fb=d.CoreObject,Ua=Fb.prototype,Gb=d.EventEmitter=function(a,b){Fb.apply(this,arguments);this._eventHandlers={};this._onConnections=[]},Z=Gb.prototype=Object.create(Ua);Z.constructor=Gb;Z.componentName="core.EventEmitter";Z.discard=function(){this.removeAllOn();for(var a in this._eventHandlers)this.removeAllListeners(a)};Z.removeAllOn=function(){for(var a=this._onConnections,b=0,c=a.length;b<c;b+=3)a[b].removeListener(a[b+1],a[b+2]);this._onConnections=[]};Z.removeAllListeners=function(a){delete this._eventHandlers[a]};
Z.emit=function(a){if(""===a)throw Error("empty listener name");var b=this["__on__"+a],c=this._eventHandlers[a];if(void 0!==b||void 0!==c){for(var f=arguments.length,h=Array(f-1),e=0,g=1;g<f;)h[e++]=arguments[g++];f=d.safeCall(this,h,function(b){log("event/signal "+a+" handler failed:",b,b.stack)});void 0!==b&&b.forEach(f);void 0!==c&&c.forEach(f)}};Z.emitWithArgs=function(a,b){if(""===a)throw Error("empty listener name");var c=this["__on__"+a],f=this._eventHandlers[a];if(void 0!==c||void 0!==f)b=
d.safeCall(this,b,function(b){log("event/signal "+a+" handler failed:",b,b.stack)}),void 0!==c&&c.forEach(b),void 0!==f&&f.forEach(b)};Z.removeListener=function(a,b){if(a in this._eventHandlers&&void 0!==b&&null!==b&&""!==a){var c=this._eventHandlers[a];b=c.indexOf(b);0<=b?c.splice(b,1):$manifest$trace$listeners&&log("failed to remove listener for",a,"from",this);c.length||this.removeAllListeners(a)}else $manifest$trace$listeners&&log("invalid removeListener("+a+", "+b+") invocation",Error().stack)};
Z.on=function(a,b){if(""===a)throw Error("empty listener name");var c=this._eventHandlers,f=c[a];void 0!==f?f.push(b):c[a]=[b]};Z.connectOn=function(a,b,c){a.on(b,c);this._onConnections.push(a,b,c)};Z.$c=function(a){Ua.$c.call(this,a.$b={})};Z.$s=function(a){Ua.$s.call(this,a.$b);delete a.$b;this.completed()};var Hb=d.EventEmitter,Va=Hb.prototype,Ib=d.Object=function(a,b){Hb.apply(this,arguments);this.parent=a;this.children=[];this.__properties={};this.__attachedObjects=[];a&&a.__attachedObjects.push(this);
this._context=a?a._context:null;if(b){var c=this._local;c.model=b;c._delegate=this}this._changedConnections=[];this._properties={}},B=Ib.prototype=Object.create(Va);B._propertyToStyle={width:"width",height:"height",x:"left",y:"top",viewX:"left",viewY:"top",opacity:"opacity",border:"border",radius:"border-radius",rotate:"transform",boxshadow:"box-shadow",transform:"transform",visible:"visibility",visibleInView:"visibility",background:"background",color:"color",backgroundImage:"background-image",font:"font"};
B.constructor=Ib;B.componentName="core.Object";B.completed=function(){this.__complete!==d.CoreObject.prototype.__complete&&this._registerDelayedAction("complete")&&this._context.__onCompleted(this)};B.discard=function(){this.removeAllOnChanged();var a=this.__attachedObjects;this.__attachedObjects=[];a.forEach(function(a){a.discard()});if(a=this.parent){var b=a.__attachedObjects.indexOf(this);0<=b&&a.__attachedObjects.splice(b,1)}this.children=[];this.parent=null;this._local={};a=this.__properties;
for(var c in a)a[c].discard();this._properties={};d.EventEmitter.prototype.discard.apply(this)};B.removeAllOnChanged=function(){for(var a=this._changedConnections,b=0,c=a.length;b<c;b+=3)a[b].removeOnChanged(a[b+1],a[b+2]);this._changedConnections=[]};B.getComponentPath=function(){for(var a=[],b=this;b;){var c=b.componentName;if(b.parent){var f=b.parent.children.indexOf(b);0<=f&&(c+="@"+f)}a.unshift(c);b=b.parent}return a.join(" \u2192 ")};B._tryFocus=function(){return!1};B.addChild=function(a){this.children.push(a)};
B.removeChild=function(a){var b=this.children;a=b.indexOf(a);0<=a&&b.splice(a,1)};B._cancelDelayedAction=function(a){this._registeredDelayedActions[a]=!1};B._setId=function(a){for(var b=this;b;)b._local[a]=this,b=b.parent};B._registerDelayedAction=function(a){var b=this._registeredDelayedActions;void 0===b&&(b=this._registeredDelayedActions={});return!0===b[a]?!1:b[a]=!0};B.resetAnimation=function(a){a=this.__properties[a];if(void 0!==a&&a.animation){var b=a.animation;b.disable();var c=b.target;b.target=
c;a.animation=null;b.enable();b.target=c}};B._removeUpdater=function(a){a=this.__properties[a];void 0!==a&&a.removeUpdater()};B.updateAnimation=function(a,b){this._context.backend.setAnimation(this,a,b)};B.setAnimation=function(a,b){this._get("context",!0);if(!$manifest$disableAnimations){if(null===b)return this.resetAnimation(a);var c=this._context;c=c.backend;"contentX"!==a&&"contentY"!==a||log("WARNING: you're trying to animate contentX/contentY property, this will always use animation frames, ignoring CSS transitions, please use content.x/content.y instead");
b.target=this;b.property=a;this._createPropertyStorage(a).animation=b;c.setAnimation(this,a,b)&&(b._native=!0)}};B.removeOnChanged=function(a,b){var c=this.__properties[a],f;void 0!==c&&(f=c.removeOnChanged(b));$manifest$trace$listeners&&!f&&log("failed to remove changed listener for",a,"from",this)};B.onChanged=function(a,b){this._createPropertyStorage(a).onChanged.push(b)};B._replaceUpdater=function(a,b,c){this._createPropertyStorage(a).replaceUpdater(this,b,c)};B._setProperty=function(a,b){a=this._createPropertyStorage(a,
b);var c=a.animation;void 0!==c&&c.disable();a.setCurrentValue(this,null,b);void 0!==c&&c.enable()};B._createPropertyStorage=function(a,b){var c=this.__properties[a];return void 0!==c?c:this.__properties[a]=new d.core.PropertyStorage(b)};B.connectOnChanged=function(a,b,c){a.onChanged(b,c);this._changedConnections.push(a,b,c)};B.$c=function(a){Va.$c.call(this,a.$b={})};B.$s=function(a){Va.$s.call(this,a.$b);delete a.$b;this.completed()};var Jb=d.Object,Wa=Jb.prototype,Kb=ya.Rest=function(a,b){Jb.apply(this,
arguments);this._methods={}},X=Kb.prototype=Object.create(Wa);X.constructor=Kb;X.componentName="controls.web.api.Rest";X.internetConnectionLost=d.createSignal("internetConnectionLost");X.error=d.createSignal("error");e.addProperty(X,"string","baseUrl");X.args=function(a){return a};X.headers=function(a){};X.call=function(a,b,c,f,h,d){if(0>a.indexOf("://")){var e=this.baseUrl;a="/"===e[e.length-1]||"/"===a[0]?e+a:e+"/"+a}this._call(a,b,c,f,JSON.stringify(h),d)};X._call=function(a,b,c,f,h,d){var e=this._get("apiRequest",
!0);d=d||{};h&&(h=this.args(h),d["Content-Type"]="application/json");var V=this.headers(d);void 0!==V&&(d=V);var g=this;e.ajax({method:f||"GET",headers:d,contentType:"application/json",url:a,data:h,done:function(h){if(h.target&&400<=h.target.status)log("Error in request",h),c&&c(h),g.error({url:a,method:f,response:h});else{var d=h.target.responseText;if(d){try{h=JSON.parse(d)}catch(Ta){h=d}b(h)}else b("")}},error:function(b){c&&c(b);g.error({url:a,method:f,response:b})}})};X._registerMethod=function(a,
b){var c=this._get("api",!0);a&&(c=this,this[a]=function(){b.call(c,arguments)})};d._protoOn(X,"error",function(a,b,c){("undefined"!==typeof window&&!window.navigator.onLine||c&&c.target&&0===c.target.status&&""===c.target.response)&&this.internetConnectionLost({url:a,method:b,response:c})});X.$c=function(a){Wa.$c.call(this,a.$b={});var b=new d.Request(this);a._this$child0=b;b.$c(a.$c$_this$child0={});b._setId("apiRequest");this.addChild(b)};X.$s=function(a){Wa.$s.call(this,a.$b);delete a.$b;var b=
a._this$child0;b.$s(a.$c$_this$child0);delete a.$c$_this$child0;b.completed();this.completed()};var Lb=ya.Rest,Xa=Lb.prototype,Mb=za.AppApi=function(a,b){Lb.apply(this,arguments)},Da=Mb.prototype=Object.create(Xa);Da.constructor=Mb;Da.componentName="src.AppApi";e.addProperty(Da,"string","apiKey","a20b12b279f744f2b3c7b5c5400c4eb5");Da.$c=function(a){Xa.$c.call(this,a.$b={});var b=new ya.Method(this);a._this$child0=b;b.$c(a.$c$_this$child0={});this.addChild(b)};Da.$s=function(a){Xa.$s.call(this,a.$b);
delete a.$b;this._removeUpdater("baseUrl");this.baseUrl="https://api.start.ru";var b=a._this$child0;b.$s(a.$c$_this$child0);delete a.$c$_this$child0;b._replaceUpdater("path",function(){b.path="/web/main?apikey="+b.parent.apiKey},[b.parent,"apiKey"]);b._removeUpdater("name");b.name="getMain";b.completed();this.completed()};var Nb=d.Object,Ya=Nb.prototype,aa=d.System=function(a,b){Nb.apply(this,arguments);this.vendor=d.vendor;this.device=d.device;this.os=d.os;this.browser=d.browser;this.userAgent=d.userAgent;
this.language=d.language;var c=this._context;c.language=this.language.replace("-","_");this.webkit=0<=this.userAgent.toLowerCase().indexOf("webkit");this.support3dTransforms=c.backend.capabilities.csstransforms3d||!1;this.supportTransforms=c.backend.capabilities.csstransforms||!1;this.supportTransitions=c.backend.capabilities.csstransitions||!1;this.resolutionWidth=$manifest$resolutionWidth;this.resolutionHeight=$manifest$resolutionHeight},p=aa.prototype=Object.create(Ya);p.constructor=aa;p.componentName=
"core.System";e.addProperty(p,"string","userAgent");e.addProperty(p,"string","language");e.addProperty(p,"string","browser");e.addProperty(p,"string","vendor");e.addProperty(p,"string","os");e.addProperty(p,"bool","webkit");e.addProperty(p,"bool","support3dTransforms");e.addProperty(p,"bool","supportTransforms");e.addProperty(p,"bool","supportTransitions");e.addProperty(p,"bool","portrait");e.addProperty(p,"bool","landscape");e.addProperty(p,"bool","pageActive",!0);e.addProperty(p,"int","screenWidth");
e.addProperty(p,"int","screenHeight");e.addProperty(p,"int","contextWidth");e.addProperty(p,"int","contextHeight");e.addProperty(p,"int","resolutionWidth");e.addProperty(p,"int","resolutionHeight");e.addProperty(p,"bool","virtualKeyboard");p.Desktop=0;aa.Desktop=0;p.Tv=1;aa.Tv=1;p.Mobile=2;aa.Mobile=2;e.addProperty(p,"enum","device");p.MobileS=0;aa.MobileS=0;p.MobileM=1;aa.MobileM=1;p.MobileL=2;aa.MobileL=2;p.Tablet=3;aa.Tablet=3;p.Laptop=4;aa.Laptop=4;p.LaptopL=5;aa.LaptopL=5;p.Laptop4K=6;aa.Laptop4K=
6;e.addProperty(p,"enum","layoutType");p._updateLayoutType=function(){if(this.contextWidth&&this.contextHeight){var a=this.contextWidth;this.layoutType=320>=a?this.MobileS:375>=a?this.MobileM:425>=a?this.MobileL:768>=a?this.Tablet:1024>=this.contextWidth?this.Laptop:1440>=this.contextWidth?this.LaptopL:this.Laptop4K}};var l=function(a){this._updateLayoutType()};d._protoOnChanged(p,"contextHeight",l);d._protoOnChanged(p,"contextWidth",l);p.$c=function(a){Ya.$c.call(this,a.$b={})};p.$s=function(a){var b=
this;Ya.$s.call(this,a.$b);delete a.$b;b._replaceUpdater("portrait",function(){b.portrait=b.parent.width<b.parent.height},[b.parent,"height",b.parent,"width"]);b._replaceUpdater("contextWidth",function(){b.contextWidth=b._context.width},[b._context,"width"]);b._replaceUpdater("virtualKeyboard",function(){b.virtualKeyboard=b.device===g.core.System.prototype.Tv||b.device===g.core.System.prototype.Mobile},[b,"device"]);b._replaceUpdater("landscape",function(){b.landscape=!b.portrait},[b,"portrait"]);
b._replaceUpdater("contextHeight",function(){b.contextHeight=b._context.height},[b._context,"height"]);b.completed()};var Ob=d.Object,Za=Ob.prototype,Pb=d.Shadow=function(a,b){Ob.apply(this,arguments)},N=Pb.prototype=Object.create(Za);N.constructor=Pb;N.componentName="core.Shadow";e.addProperty(N,"real","x");e.addProperty(N,"real","y");e.addProperty(N,"color","color","black");e.addProperty(N,"real","blur");e.addProperty(N,"real","spread");N._empty=function(){return!this.x&&!this.y&&!this.blur&&!this.spread};
N._getFilterStyle=function(){var a=this.x+"px "+this.y+"px "+this.blur+"px ";0<this.spread&&(a+=this.spread+"px ");return a+=d.Color.normalize(this.color)};l=function(a){this.parent._updateStyle(!0)};d._protoOnChanged(N,"x",l);d._protoOnChanged(N,"spread",l);d._protoOnChanged(N,"y",l);d._protoOnChanged(N,"blur",l);d._protoOnChanged(N,"color",l);N.$c=function(a){Za.$c.call(this,a.$b={})};N.$s=function(a){Za.$s.call(this,a.$b);delete a.$b;this.completed()};var Qb=d.Object,$a=Qb.prototype,Rb=d.Item=
function(a,b){Qb.apply(this,arguments);this._pressedHandlers={};this._topPadding=0;if(a){if(this.element)throw Error("double ctor call");this._createElement(this.getTag(),this.getClass())}},k=Rb.prototype=Object.create($a);k.constructor=Rb;k.componentName="core.Item";k.anchorsMarginsUpdated=d.createSignal("anchorsMarginsUpdated");k.newBoundingBox=d.createSignal("newBoundingBox");e.addProperty(k,"int","x");e.addProperty(k,"int","y");e.addProperty(k,"int","z");e.addProperty(k,"int","width");e.addProperty(k,
"int","height");e.addProperty(k,"bool","clip");e.addLazyProperty(k,"radius",function(a,b){a=new d.Radius(a,b);b={lazy$radius:a};a.$c(b.$c$lazy$radius={});a=b.lazy$radius;a.$s(b.$c$lazy$radius);delete b.$c$lazy$radius;a.completed();return a});e.addProperty(k,"bool","focus");e.addProperty(k,"bool","focused");e.addProperty(k,"bool","activeFocus");e.addProperty(k,"Item","focusedChild");e.addProperty(k,"bool","visible",!0);e.addProperty(k,"bool","visibleInView",!0);e.addProperty(k,"bool","recursiveVisible",
!1);e.addProperty(k,"real","opacity",1);e.addLazyProperty(k,"anchors",function(a,b){a=new d.Anchors(a,b);b={lazy$anchors:a};a.$c(b.$c$lazy$anchors={});a=b.lazy$anchors;a.$s(b.$c$lazy$anchors);delete b.$c$lazy$anchors;a.completed();return a});e.addLazyProperty(k,"effects",function(a,b){a=new d.Effects(a,b);b={lazy$effects:a};a.$c(b.$c$lazy$effects={});a=b.lazy$effects;a.$s(b.$c$lazy$effects);delete b.$c$lazy$effects;a.completed();return a});e.addLazyProperty(k,"transform",function(a,b){a=new d.Transform(a,
b);b={lazy$transform:a};a.$c(b.$c$lazy$transform={});a=b.lazy$transform;a.$s(b.$c$lazy$transform);delete b.$c$lazy$transform;a.completed();return a});e.addProperty(k,"bool","cssTranslatePositioning");e.addProperty(k,"bool","cssNullTranslate3D");e.addProperty(k,"bool","cssDelegateAlwaysVisibleOnAcceleratedSurfaces",!0);e.addProperty(k,"bool","cssPointerTouchEvents",!1);e.addConstProperty(k,"left",function(){return[this,0]});e.addConstProperty(k,"top",function(){return[this,1]});e.addConstProperty(k,
"right",function(){return[this,2]});e.addConstProperty(k,"bottom",function(){return[this,3]});e.addConstProperty(k,"horizontalCenter",function(){return[this,4]});e.addConstProperty(k,"verticalCenter",function(){return[this,5]});e.addProperty(k,"int","viewX");e.addProperty(k,"int","viewY");e.addProperty(k,"int","keyProcessDelay");k.discard=function(){d.Object.prototype.discard.apply(this);this.focusedChild=null;this._pressedHandlers={};this.element&&this.element.discard()};k._tryFocus=function(){if(!this.visible)return!1;
if(this.focusedChild&&this.focusedChild._tryFocus())return!0;for(var a=this.children,b=0;b<a.length;++b){var c=a[b];if(c._tryFocus())return this._focusChild(c),!0}return this.focus};k.setFocus=function(){this.forceActiveFocus()};k._updateStyle=function(){var a=this.element;a&&a.updateStyle()};k.toScreen=function(){for(var a=this,b=0,c=0,f=this.width+(this._borderWidthAdjust||0)+(this._borderInnerWidthAdjust||0),h=this.height+(this._borderHeightAdjust||0)+(this._borderInnerHeightAdjust||0);a;){b+=
a.x+a.viewX+(a._borderXAdjust||0);c+=a.y+a.viewY+(a._borderYAdjust||0);if(a.hasOwnProperty("view")){var d=a.view.content;b+=d.x;c+=d.y}a=a.parent}return[b,c,b+f,c+h,b+f/2,c+h/2]};k.hasActiveFocus=function(){for(var a=this;a.parent;){if(a.parent.focusedChild!=a)return!1;a=a.parent}return!0};k.forceActiveFocus=function(){for(var a=this;a.parent;)a.parent._focusChild(a),a=a.parent;this._tryFocus()&&this._propagateFocusToParents()};k._propagateFocusToParents=function(){for(var a=this;a.parent&&(!a.parent.focusedChild||
!a.parent.focusedChild.visible);)a.parent._focusChild(a),a=a.parent};k._updateVisibility=function(){var a=this.visible&&this.visibleInView,b=!0,c=this.view;void 0!==c&&(c=c.content,c.cssDelegateAlwaysVisibleOnAcceleratedSurfaces&&(c.cssTranslatePositioning||c.cssNullTranslate3D)&&!$manifest$cssDisableTransformations&&(b=!1));b&&this.style("visibility",a?"inherit":"hidden");this.recursiveVisible=a&&(null!==this.parent?this.parent.recursiveVisible:!0)};k._setSizeAdjust=function(){var a=this.x+this.viewX+
(this._borderXAdjust||0),b=this.y+this.viewY+(this._borderYAdjust||0);this.cssTranslatePositioning&&!$manifest$cssDisableTransformations?(this.transform.translateX=a,this.transform.translateY=b):(this.style("left",a),this.style("top",b));this.newBoundingBox()};k.getClass=function(){return""};k.getTag=function(){return"div"};k._focusTree=function(a){this.activeFocus=a;this.focusedChild&&this.focusedChild._focusTree(a)};k.addChild=function(a){d.Object.prototype.addChild.apply(this,arguments);a._tryFocus()&&
a._propagateFocusToParents()};k._focusChild=function(a){if(a.parent!==this)throw Error("invalid object passed as child");this.focusedChild!==a&&(this.focusedChild&&(this.focusedChild._focusTree(!1),this.focusedChild.focused=!1),this.focusedChild=a)&&(this.focusedChild._focusTree(this.hasActiveFocus()),this.focusedChild.focused=!0)};k.focusChild=function(a){this._propagateFocusToParents();this._focusChild(a)};k._updateVisibilityForChild=function(a,b){a.recursiveVisible=b&&a.visible&&a.visibleInView};
k._attachElement=function(a){this.element&&this.element.discard();this.element=a;var b=this.parent;b&&b.element.append(a)};k._processKey=function(a,b){$manifest$trace$keys&&log(this.getComponentPath(),"_processKey",a,b);var c=b.timeStamp;if(this.keyProcessDelay){if(this._lastEvent&&c>this._lastEvent&&c-this._lastEvent<this.keyProcessDelay)return!0;this._lastEvent=c}c=d.safeCall(this,[a,b],function(b){log("on "+a+" handler failed:",b,b.stack)});var f=this["__key__"+a];if(a in this._pressedHandlers&&
this.invokeKeyHandlers(a,b,this._pressedHandlers[a],c)||f&&this.invokeKeyHandlers(a,b,f,c))return!0;f=this.__key__Key;return"Key"in this._pressedHandlers&&this.invokeKeyHandlers(a,b,this._pressedHandlers.Key,c)||f&&this.invokeKeyHandlers(a,b,f,c)?!0:!1};k.invokeKeyHandlers=function(a,b,c,f){for(var h=c.length-1;0<=h;--h)if(f(c[h]))return $manifest$trace$keys&&log("key "+a+" handled in "+(performance.now()-b.timeStamp).toFixed(3)+" ms by",this,Error().stack),!0;return!1};k.onPressed=function(a,b){this._get("key",
!0);var c="Key"!=a?function(a,c){c.accepted=!0;b(a,c);return c.accepted}:b;a in this._pressedHandlers?this._pressedHandlers[a].push(c):this._pressedHandlers[a]=[c]};k.style=function(a,b){var c=this.element;if(c)return c.style(a,b);log("WARNING: style skipped:",a,b)};k._enqueueNextChildInFocusChain=function(a,b){this._tryFocus();var c=this.focusedChild;c&&c.visible&&(a.unshift(c),b.unshift(c))};k.registerStyle=function(a,b){var c="position: absolute; visibility: inherit; opacity: 1.0;border-style: solid; border-width: 0px; border-radius: 0px; box-sizing: border-box; border-color: rgba(0,0,0,1);white-space: nowrap; transform: none;left: 0px; top: 0px; width: 0px; height: 0px;"+
("font-family: "+$manifest$style$font$family+"; line-height: "+$manifest$style$font$lineHeight+"; ");c+="pointer-events: none; touch-action: none; ";$manifest$style$font$pixelSize?c+="font-size: "+$manifest$style$font$pixelSize+"px; ":$manifest$style$font$pointSize&&(c+="font-size: "+$manifest$style$font$pointSize+"pt; ");a.addRule(b,c)};k._createElement=function(a,b){this._get("context",!0);var c=this._context;null===c&&(c=this);c.registerStyle(this,a,b);this._attachElement(c.createElement(a,b))};
d._protoOnChanged(k,"cssNullTranslate3D",function(a){$manifest$cssDisableTransformations||this.style("transform",a?"translateZ(0)":"")});d._protoOnChanged(k,"focus",function(a){this.parent&&this.parent._tryFocus()});d._protoOnChanged(k,"height",function(a){this.style("height",a-this._topPadding+(this._borderHeightAdjust||0));this.newBoundingBox()});d._protoOnChanged(k,"width",function(a){this.style("width",a+(this._borderWidthAdjust||0));this.newBoundingBox()});d._protoOnChanged(k,"recursiveVisible",
function(a){for(var b=this.children,c=0,f=b.length;c<f;++c)this._updateVisibilityForChild(b[c],a);!a&&this.parent&&this.parent._tryFocus();$manifest$requireExplicitRecursiveVisibilityStyle&&this.style("-pure-recursive-visibility",a)});d._protoOnChanged(k,"cssPointerTouchEvents",function(a){a=a?"auto":"none";this.style("pointer-events",a);this.style("touch-action",a)});l=function(a){a=this.x+this.viewX;this.cssTranslatePositioning&&!$manifest$cssDisableTransformations?this.transform.translateX=a:this.style("left",
a);this.newBoundingBox()};d._protoOnChanged(k,"x",l);d._protoOnChanged(k,"viewX",l);var ma=function(a){a=this.y+this.viewY;this.cssTranslatePositioning&&!$manifest$cssDisableTransformations?this.transform.translateY=a:this.style("top",a);this.newBoundingBox()};d._protoOnChanged(k,"viewY",ma);d._protoOnChanged(k,"y",ma);d._protoOnChanged(k,"opacity",function(a){this.element&&this.style("opacity",a)});var Sb=function(a){this._updateVisibility()};d._protoOnChanged(k,"visible",Sb);d._protoOnChanged(k,
"visibleInView",Sb);d._protoOnChanged(k,"clip",function(a){this.style("overflow",a?"hidden":"visible")});d._protoOnChanged(k,"z",function(a){this.style("z-index",a)});k.$c=function(a){$a.$c.call(this,a.$b={})};k.$s=function(a){$a.$s.call(this,a.$b);delete a.$b;this.completed()};var Tb=d.Item,ab=Tb.prototype,S=d.Text=function(a,b){Tb.apply(this,arguments);this._context.backend.initText(this);0<this.text.length&&this._setText(this.text)},q=S.prototype=Object.create(ab);q.constructor=S;q.componentName=
"core.Text";e.addProperty(q,"string","text");e.addProperty(q,"color","color");e.addLazyProperty(q,"shadow",function(a,b){a=new d.Shadow(a,b);b={lazy$shadow:a};a.$c(b.$c$lazy$shadow={});a=b.lazy$shadow;a.$s(b.$c$lazy$shadow);delete b.$c$lazy$shadow;a.completed();return a});e.addLazyProperty(q,"font",function(a,b){a=new d.Font(a,b);b={lazy$font:a};a.$c(b.$c$lazy$font={});a=b.lazy$font;a.$s(b.$c$lazy$font);delete b.$c$lazy$font;a.completed();return a});e.addProperty(q,"int","paintedWidth");e.addProperty(q,
"int","paintedHeight");q.AlignTop=0;S.AlignTop=0;q.AlignBottom=1;S.AlignBottom=1;q.AlignVCenter=2;S.AlignVCenter=2;e.addProperty(q,"enum","verticalAlignment");q.Html=0;S.Html=0;q.Text=1;S.Text=1;e.addProperty(q,"enum","textFormat");q.AlignLeft=0;S.AlignLeft=0;q.AlignRight=1;S.AlignRight=1;q.AlignHCenter=2;S.AlignHCenter=2;q.AlignJustify=3;S.AlignJustify=3;e.addProperty(q,"enum","horizontalAlignment");q.NoWrap=0;S.NoWrap=0;q.WordWrap=1;S.WordWrap=1;q.WrapAnywhere=2;S.WrapAnywhere=2;q.Wrap=3;S.Wrap=
3;e.addProperty(q,"enum","wrapMode");q._updateSize=function(){this.recursiveVisible&&(this._updateSizeNeeded||this.clip)&&this._scheduleUpdateSize()};q._updateStyle=function(){this.shadow&&!this.shadow._empty()?this.style("text-shadow",this.shadow._getFilterStyle()):this.style("text-shadow","");d.Item.prototype._updateStyle.apply(this,arguments)};q._updateSizeImpl=function(){0===this.text.length?this.paintedHeight=this.paintedWidth=0:this._context.backend.layoutText(this)};q._scheduleUpdateSize=function(){this._context.delayedAction("text:update-size",
this,this._updateSizeImpl)};q._enableSizeUpdate=function(){this._updateSizeNeeded=!0;this._updateSize()};q._updateWSHandling=function(){var a=this.textFormat===this.Text;switch(this.wrapMode){case this.NoWrap:this.style({"white-space":a?"pre":"nowrap","word-break":""});break;case this.Wrap:case this.WordWrap:this.style({"white-space":a?"pre-wrap":"normal","word-break":""});break;case this.WrapAnywhere:this.style({"white-space":a?"pre-wrap":"normal","word-break":"break-all"})}this._updateSize()};q.getClass=
function(){return"core-text"};q._setText=function(a){this._context.backend.setText(this,a)};q.on=function(a,b){this._updateSizeNeeded||"newBoundingBox"===a&&this._enableSizeUpdate();d.Item.prototype.on.apply(this,arguments)};q.onChanged=function(a,b){if(!this._updateSizeNeeded)switch(a){case "right":case "width":case "bottom":case "height":case "verticalCenter":case "horizontalCenter":this._enableSizeUpdate()}d.Item.prototype.onChanged.apply(this,arguments)};q.registerStyle=function(a,b){a.addRule(b,
"width: auto; height: auto;")};d._protoOnChanged(q,"recursiveVisible",function(a){a&&this._updateSize()});d._protoOnChanged(q,"horizontalAlignment",function(a){switch(a){case this.AlignLeft:this.style("text-align","left");break;case this.AlignRight:this.style("text-align","right");break;case this.AlignHCenter:this.style("text-align","center");break;case this.AlignJustify:this.style("text-align","justify")}});d._protoOnChanged(q,"verticalAlignment",function(a){this._enableSizeUpdate();if($manifest$requireVerticalTextAlignmentStyle)switch(a){case this.AlignTop:this.style("-pure-text-vertical-align",
"top");break;case this.AlignVCenter:this.style("-pure-text-vertical-align","middle");break;case this.AlignBottom:this.style("-pure-text-vertical-align","bottom")}});l=function(a){this._updateWSHandling()};d._protoOnChanged(q,"wrapMode",l);d._protoOnChanged(q,"textFormat",l);d._protoOnChanged(q,"text",function(a){this._setText(a);this._updateSize()});ma=function(a){this._updateSize()};d._protoOnChanged(q,"height",ma);d._protoOnChanged(q,"width",ma);d._protoOnChanged(q,"color",function(a){this.style("color",
d.Color.normalize(a))});q.$c=function(a){ab.$c.call(this,a.$b={})};q.$s=function(a){var b=this;ab.$s.call(this,a.$b);delete a.$b;b._replaceUpdater("width",function(){b.width=b.paintedWidth},[b,"paintedWidth"]);b._replaceUpdater("height",function(){b.height=b.paintedHeight},[b,"paintedHeight"]);b.completed()};var Ub=d.Text,Ea=Ub.prototype,Vb=la.EllipsisText=function(a,b){Ub.apply(this,arguments)},na=Vb.prototype=Object.create(Ea);na.constructor=Vb;na.componentName="controls.web.EllipsisText";e.addProperty(na,
"bool","active",!0);na.__complete=function(){Ea.__complete.call(this);this.updateStyle()};na.updateStyle=function(){this.style("text-overflow",this.active?"ellipsis":"clip")};d._protoOnChanged(na,"active",function(a){this.updateStyle()});na.$c=function(a){Ea.$c.call(this,a.$b={})};na.$s=function(a){Ea.$s.call(this,a.$b);delete a.$b;this._removeUpdater("clip");this.clip=!0;this.completed()};var Wb=d.Item,bb=Wb.prototype,Xb=d.BaseViewContent=function(a,b){Wb.apply(this,arguments);this.style("will-change",
"scroll-position, transform, left, top")},qa=Xb.prototype=Object.create(bb);qa.constructor=Xb;qa.componentName="core.BaseViewContent";qa._updateScrollPositions=function(a,b,c){this._setProperty("x",-a);this._setProperty("y",-b);(void 0===c||c)&&this.parent._scheduleLayout()};l=function(a){this.parent._scheduleLayout()};d._protoOnChanged(qa,"x",l);d._protoOnChanged(qa,"y",l);qa.$c=function(a){bb.$c.call(this,a.$b={})};qa.$s=function(a){bb.$s.call(this,a.$b);delete a.$b;this.completed()};var Yb=d.Object,
cb=Yb.prototype,Zb=d.Animation=function(a,b){Yb.apply(this,arguments);this._disabled=0;this._native=!1},D=Zb.prototype=Object.create(cb);D.constructor=Zb;D.componentName="core.Animation";e.addProperty(D,"int","delay",0);e.addProperty(D,"int","duration",200);e.addProperty(D,"bool","cssTransition",!0);e.addProperty(D,"bool","running",!1);e.addProperty(D,"string","easing","ease");e.addProperty(D,"Object","target");e.addProperty(D,"string","property");e.addProperty(D,"variant","from");e.addProperty(D,
"variant","to");D._updateAnimation=function(){this.target&&this.target.updateAnimation(this.property,this)};D.active=function(){return this.enabled()&&0<this.duration};D.disable=function(){++this._disabled;this._updateAnimation()};D.enable=function(){--this._disabled;this._updateAnimation()};D.enabled=function(){return 0===this._disabled};D.complete=function(){};D.interpolate=function(a,b,c){return c*(a-b)+b};l=function(a){this._updateAnimation()};d._protoOnChanged(D,"easing",l);d._protoOnChanged(D,
"duration",l);d._protoOnChanged(D,"delay",l);d._protoOnChanged(D,"cssTransition",l);d._protoOnChanged(D,"running",l);D.$c=function(a){cb.$c.call(this,a.$b={})};D.$s=function(a){cb.$s.call(this,a.$b);delete a.$b;this.completed()};var $b=d.Item,db=$b.prototype,ac=F.ActivityManager=function(a,b){$b.apply(this,arguments);this._activityStack=[]},J=ac.prototype=Object.create(db);J.constructor=ac;J.componentName="controls.core.ActivityManager";e.addProperty(J,"int","count");e.addProperty(J,"bool","keepLastActivity",
!0);e.addProperty(J,"string","currentActivity");J._initTopIntent=function(){if(this._activityStack.length){var a=this._activityStack[this._activityStack.length-1],b=this.children;log("initTopIntent: "+a.name);for(var c=0;c<b.length;++c){var f=b[c];if(f&&f instanceof g.controls.core.BaseActivity)if(f.name===a.name){log("Init:",a);var h=a.state||{};h.lastActivity||(h.lastActivity=this.currentActivity);f.init(a.intent,h);f.index=this._activityStack.length-1;f.start();f.setFocus();this.currentActivity=
f.name}else f.stop()}}else log("Activity stack is empty")};J.initTopIntent=function(){try{this._initTopIntent()}catch(a){log("initTopIntent failed:",a),this.pop()}};J.clear=function(){for(var a=this.children,b=0;b<a.length;++b){var c=a[b];c&&c instanceof g.controls.core.Activity&&c.stop()}this._activityStack=[]};J.pop=function(a){if(this.keepLastActivity&&1<this.count||!this.keepLastActivity&&0<this.count)return a=void 0===a?1:a>this.count-1&&this.keepLastActivity?this.count-1:a>this.count&&!this.keepLastActivity?
this.count:a,this._activityStack.splice(-a,a),this.count-=a,this.initTopIntent(),!0;log("No activity to pop");return!1};J.setIntent=function(a,b){if(b){if(b=this.createActivity(b))b.intent=a}else this._activityStack[this._activityStack.length-1].intent=a};J.removeActivity=function(a){if(a==this.currentActivity)this.pop();else{for(var b=-1,c=0;c<this._activityStack.length;++c)if(this._activityStack[c].name==a){b=c;break}0>b?log("Activity",a,"not found"):this._activityStack.splice(b,1)}};J.isActivityInStack=
function(a){var b=this._activityStack.filter(function(b){return b.name==a});return b&&0<b.length};J.findActivity=function(a){var b=this.children.filter(function(b){return b instanceof g.controls.core.BaseActivity&&b.name==a}),c=null;b&&b.length&&(c=b[0].getActivity());c||log("Activity for name",a,"not found");return c};J.createActivity=function(a){var b=this.findActivity(a);if(b)return b;if((b=this.children.filter(function(b){return b instanceof g.controls.core.LazyActivity&&b.name==a}))&&b.length)return b=
b[0],b.createActivity();log("Activity for name",a,"not found");return null};J.closeAllExcept=function(a){var b=this.findActivity(a);b?(this.count=1,this._activityStack=[b]):(log("Activity",a,"not found, close all"),this.count=0,this._activityStack=[]);this.currentActivity!=a&&this.initTopIntent()};J.replaceTopActivity=function(a,b,c){if(0<this.count)return this._activityStack.pop(),this._activityStack.push({name:a,intent:b,state:c}),this.initTopIntent(),!0;log("No activity to pop");return!1};J.push=
function(a,b,c){this._activityStack.push({name:a,intent:b,state:c});this.count++;this.initTopIntent()};J.popWithState=function(a){if(this.keepLastActivity&&1<this.count||!this.keepLastActivity&&0<this.count)return this._activityStack.pop(),--this.count,this.setState(a),this.initTopIntent(),!0;log("No activity to pop");return!1};J.setState=function(a,b){if(b){if(b=this.createActivity(b))b.state=a}else this._activityStack[this._activityStack.length-1].state=a};J.$c=function(a){db.$c.call(this,a.$b=
{})};J.$s=function(a){db.$s.call(this,a.$b);delete a.$b;this.completed()};var bc=d.Item,Fa=bc.prototype,cc=d.Loader=function(a,b){bc.apply(this,arguments)},Y=cc.prototype=Object.create(Fa);Y.constructor=cc;Y.componentName="core.Loader";Y.loaded=d.createSignal("loaded");e.addProperty(Y,"string","source");e.addProperty(Y,"Object","item");Y.discard=function(){this.discardItem();d.Item.prototype.discard.call(this)};Y.discardItem=function(){var a=this.item;a&&a.discard()};Y._load=function(){var a=this.source;
if(a){log("loading "+a+"\u2026");for(var b=a.split("."),c=g;b.length;){var f=b.shift();c=c[f];if(void 0===c)throw Error("unknown component used: "+a);}this.item=new c(this);d.core.createObject(this.item);this.loaded()}};Y.__complete=function(){Fa.__complete.call(this);!this.item&&this.source&&this._load()};d._protoOnChanged(Y,"recursiveVisible",function(a){this.item&&this._updateVisibilityForChild(this.item,a)});d._protoOnChanged(Y,"source",function(a){this.discardItem();this._load()});Y.$c=function(a){Fa.$c.call(this,
a.$b={})};Y.$s=function(a){Fa.$s.call(this,a.$b);delete a.$b;this.completed()};var dc=d.Item,eb=dc.prototype,ec=F.BaseActivity=function(a,b){dc.apply(this,arguments)},K=ec.prototype=Object.create(eb);K.constructor=ec;K.componentName="controls.core.BaseActivity";K.started=d.createSignal("started");K.stopped=d.createSignal("stopped");e.addProperty(K,"bool","active");e.addProperty(K,"string","name");e.addProperty(K,"Item","manager");K.clear=function(){this.manager.clear()};K.pop=function(a){this.manager.pop(a)};
K.init=function(a,b){};K.closeAllExcept=function(a){this.manager.closeAllExcept(a)};K.removeActivity=function(a){this.manager.removeActivity(a)};K.push=function(a,b,c){this.manager.push(a,b,c)};K.replaceTopActivity=function(a,b,c){this.manager.replaceTopActivity(a,b,c)};K.popWithState=function(a){this.manager.popWithState(a)};K.setIntent=function(a,b){this.manager.setIntent(a,b)};K.setState=function(a,b){this.manager.setState(a,b)};d._protoOnKey(K,"Back",function(a,b){this.manager.pop();return!0});
K.$c=function(a){eb.$c.call(this,a.$b={})};K.$s=function(a){var b=this;eb.$s.call(this,a.$b);delete a.$b;b._replaceUpdater("visible",function(){b.visible=b.active},[b,"active"]);b._removeUpdater("manager");b.manager=b.parent;b.completed()};var fc=F.BaseActivity,fb=fc.prototype,gc=F.LazyActivity=function(a,b){fc.apply(this,arguments)},ha=gc.prototype=Object.create(fb);ha.constructor=gc;ha.componentName="controls.core.LazyActivity";e.addProperty(ha,"string","component");ha.init=function(){g.controls.core.BaseActivity.prototype.init.apply(this,
arguments);var a=this.createActivity();a&&a.init.apply(a,arguments)};ha.start=function(){this.createActivity().start();this.visible=!0};ha.stop=function(){this.visible=!1;var a=this.getActivity();a&&a.stop()};ha.getActivity=function(){return this._get("loader",!0).item};ha.createActivity=function(){var a=this._get("loader",!0),b=a.item;if(!b){a.source=this.component;b=a.item;b.anchors.fill=this;this._context._processActions();b.manager=this.manager;if(!b)throw Error("can't create component "+this.component);
var c=this;b.on("started",function(){c.started()});b.on("stopped",function(){c.stopped()})}return a.item};ha.$c=function(a){fb.$c.call(this,a.$b={});var b=new d.Loader(this);a._this$child0=b;b.$c(a.$c$_this$child0={});b._setId("loader");this.addChild(b)};ha.$s=function(a){var b=this;fb.$s.call(this,a.$b);delete a.$b;b.anchors._replaceUpdater("fill",function(){b.anchors.fill=b.manager},[b,"manager"]);var c=a._this$child0;c.$s(a.$c$_this$child0);delete a.$c$_this$child0;c.anchors._replaceUpdater("fill",
function(){c.anchors.fill=c.parent.manager},[c.parent,"manager"]);c.completed();b.completed()};var hc=d.Object,Ga=hc.prototype,ic=d.Radius=function(a,b){hc.apply(this,arguments)},O=ic.prototype=Object.create(Ga);O.defaultProperty="radius";O.constructor=ic;O.componentName="core.Radius";e.addProperty(O,"real","radius");e.addProperty(O,"real","topLeft");e.addProperty(O,"real","topRight");e.addProperty(O,"real","bottomLeft");e.addProperty(O,"real","bottomRight");O.__complete=function(){Ga.__complete.call(this);
var a=this.radius,b=this.topLeft||a,c=this.topRight||a,f=this.bottomLeft||a;a=this.bottomRight||a;b==c&&f==a&&b==f?this.parent.style("border-radius",b):this.parent.style("border-radius",b+"px "+c+"px "+a+"px "+f+"px")};l=function(){log("updating border")};d._protoOn(O,"bottomLeftUpdate",l);d._protoOn(O,"radiusUpdate",l);d._protoOn(O,"bottomRightUpdate",l);d._protoOn(O,"topLeftUpdate",l);d._protoOn(O,"topRightUpdate",l);O.$c=function(a){Ga.$c.call(this,a.$b={})};O.$s=function(a){Ga.$s.call(this,a.$b);
delete a.$b;this.completed()};var jc=d.Object,gb=jc.prototype,kc=d.LocalStorage=function(a,b){jc.apply(this,arguments);var c=d.__localStorageBackend;this.impl=c().createLocalStorage(this)},ea=kc.prototype=Object.create(gb);ea.constructor=kc;ea.componentName="core.LocalStorage";ea._ensureErrCallback=function(a){return a||function(a){log(a.message)}};ea._ensureCallback=function(a,b){return a||function(a){log("ignore value of",b,"gotten from storage:",a)}};ea._checkNameValid=function(a){if(!a)throw Error("empty name");
};ea.getOrDefault=function(a,b,c){this._checkNameValid(a);b=this._ensureCallback(b,a);this.impl.get(a,b,function(){b(c)},this)};ea.get=function(a,b,c){this._checkNameValid(a);this.impl.get(a,this._ensureCallback(b,a),this._ensureErrCallback(c),this)};ea.erase=function(a,b){this._checkNameValid(a);this.impl.erase(a,this._ensureErrCallback(b),this)};ea.set=function(a,b,c){this._checkNameValid(a);this.impl.set(a,b,this._ensureErrCallback(c),this)};ea.$c=function(a){gb.$c.call(this,a.$b={})};ea.$s=function(a){gb.$s.call(this,
a.$b);delete a.$b;this.completed()};var lc=d.LocalStorage,Ha=lc.prototype,mc=d.PropertyStorage=function(a,b){lc.apply(this,arguments)},U=mc.prototype=Object.create(Ha);U.constructor=mc;U.componentName="core.PropertyStorage";U.ready=d.createSignal("ready");e.addProperty(U,"string","name");e.addProperty(U,"string","value");e.addProperty(U,"string","defaultValue");U._checkNameValid=function(){if(!this.name)throw Error("empty property name");};U._write=function(){this._checkNameValid();this.value?this.set(this.name,
this.value):this.erase(this.name)};U._read=function(){this._checkNameValid();this.getOrDefault(this.name,function(a){this._setProperty("value",a);this.ready()}.bind(this),this.defaultValue)};U.__complete=function(){Ha.__complete.call(this);this.value&&(this._setProperty("value",this.value),this.ready())};d._protoOnChanged(U,"name",function(a){this._setProperty("value","");this._read()});d._protoOnChanged(U,"value",function(a){this._write()});U.$c=function(a){Ha.$c.call(this,a.$b={})};U.$s=function(a){Ha.$s.call(this,
a.$b);delete a.$b;this.completed()};var nc=d.Item,Ia=nc.prototype,oc=d.BaseLayout=function(a,b){nc.apply(this,arguments);this.count=0},H=oc.prototype=Object.create(Ia);H.constructor=oc;H.componentName="core.BaseLayout";e.addProperty(H,"int","count");e.addProperty(H,"bool","trace");e.addProperty(H,"int","spacing");e.addProperty(H,"int","currentIndex");e.addProperty(H,"int","contentWidth");e.addProperty(H,"int","contentHeight");e.addProperty(H,"bool","keyNavigationWraps");e.addProperty(H,"bool","handleNavigationKeys");
e.addProperty(H,"int","layoutDelay");e.addProperty(H,"int","prerenderDelay");e.addProperty(H,"bool","offlineLayout");H._scheduleLayout=function(){if(this.recursiveVisible||this.offlineLayout)0<=this.prerenderDelay?(this._context.delayedAction("layout",this,this._doLayoutNP,this.layoutDelay),this._context.delayedAction("prerender",this,this._doLayout,this.prerenderDelay)):this._context.delayedAction("layout",this,this._doLayout,this.layoutDelay)};H._doLayout=function(){this._attach();this._processUpdates();
this._layout()};H._doLayoutNP=function(){this._attach();this._processUpdates();this._layout(!0)};H.__complete=function(){Ia.__complete.call(this);this._scheduleLayout()};l=function(){};H._attach=l;H._processUpdates=l;ma=function(a){this._scheduleLayout()};d._protoOnChanged(H,"recursiveVisible",ma);d._protoOnChanged(H,"spacing",ma);H.$c=function(a){Ia.$c.call(this,a.$b={})};H.$s=function(a){Ia.$s.call(this,a.$b);delete a.$b;this._removeUpdater("layoutDelay");this.layoutDelay=-1;this._removeUpdater("prerenderDelay");
this.prerenderDelay=-1;this.completed()};var pc=d.Object,hb=pc.prototype,qc=d.Request=function(a,b){pc.apply(this,arguments)},Ba=qc.prototype=Object.create(hb);Ba.constructor=qc;Ba.componentName="core.Request";e.addProperty(Ba,"bool","loading",!1);Ba.ajax=function(a){a.done&&(a.done=this._context.wrapNativeCallback(a.done));a.error&&(a.error=this._context.wrapNativeCallback(a.error));this._context.backend.ajax(this,a)};Ba.$c=function(a){hb.$c.call(this,a.$b={})};Ba.$s=function(a){hb.$s.call(this,
a.$b);delete a.$b;this.completed()};var rc=d.Object,ib=rc.prototype,sc=la.HoverClickMixin=function(a,b){rc.apply(this,arguments);this.element=this.parent.element;this.parent.style("cursor",this.cursor);this._bindClick(this.clickable);this._bindHover(this.enabled);this._bindActiveHover(this.activeHoverEnabled)},M=sc.prototype=Object.create(ib);M.constructor=sc;M.componentName="controls.web.HoverClickMixin";e.addProperty(M,"bool","enabled",!0);e.addProperty(M,"bool","clickable",!0);e.addProperty(M,
"bool","activeHoverEnabled",!1);e.addProperty(M,"bool","value");e.addProperty(M,"bool","activeHover",!1);e.addProperty(M,"string","cursor");M._bindActiveHover=function(a){a&&!this._hmActiveHoverBinder&&(this._hmActiveHoverBinder=new g.core.EventBinder(this.parent.element),this._hmActiveHoverBinder.on("mouseover",function(){this.activeHover=!0}.bind(this)),this._hmActiveHoverBinder.on("mouseout",function(){this.activeHover=!1}.bind(this)));this._hmActiveHoverBinder&&this._hmActiveHoverBinder.enable(a)};
M._bindClick=function(a){a&&!this._hmClickBinder&&(this._hmClickBinder=new g.core.EventBinder(this.element),this._hmClickBinder.on("click",g.core.createSignalForwarder(this.parent,"clicked").bind(this)));this._hmClickBinder&&this._hmClickBinder.enable(a)};M._bindHover=function(a){a&&!this._hmHoverBinder&&(this._hmHoverBinder=new g.core.EventBinder(this.parent.element),this._context.backend.capabilities.mouseEnterLeaveSupported?(this._hmHoverBinder.on("mouseenter",function(){this.value=!0}.bind(this)),
this._hmHoverBinder.on("mouseleave",function(){this.value=!1}.bind(this))):(this._hmHoverBinder.on("mouseover",function(){this.value=!0}.bind(this)),this._hmHoverBinder.on("mouseout",function(){this.value=!1}.bind(this))));this._hmHoverBinder&&this._hmHoverBinder.enable(a)};d._protoOnChanged(M,"cursor",function(a){this._get("cursor",!0);this.parent.style("cursor",a)});d._protoOnChanged(M,"activeHoverEnabled",function(a){this._bindActiveHover(a)});d._protoOnChanged(M,"clickable",function(a){this._bindClick(a)});
d._protoOnChanged(M,"enabled",function(a){this._bindHover(a)});M.$c=function(a){ib.$c.call(this,a.$b={})};M.$s=function(a){ib.$s.call(this,a.$b);delete a.$b;this.completed()};var tc=F.ActivityManager,Ja=tc.prototype,uc=za.UiApp=function(a,b){tc.apply(this,arguments)},ra=uc.prototype=Object.create(Ja);ra.constructor=uc;ra.componentName="src.UiApp";e.addProperty(ra,"int","contextWidth");e.addProperty(ra,"int","contextHeight");ra.__complete=function(){Ja.__complete.call(this);this.push("mosaic")};ra.$c=
function(a){Ja.$c.call(this,a.$b={});var b=new d.Rectangle(this);a._this$child0=b;b.$c(a.$c$_this$child0={});this.addChild(b);b=new za.AppApi(this);a._this$child1=b;b.$c(a.$c$_this$child1={});b._setId("api");this.addChild(b);b=new za.AnotherApi(this);a._this$child2=b;b.$c(a.$c$_this$child2={});b._setId("anotherApi");this.addChild(b);b=new F.LazyActivity(this);a._this$child3=b;b.$c(a.$c$_this$child3={});this.addChild(b);this._setId("root")};ra.$s=function(a){var b=this;Ja.$s.call(this,a.$b);delete a.$b;
b._replaceUpdater("contextHeight",function(){b.contextHeight=b._context.height},[b._context,"height"]);b._replaceUpdater("contextWidth",function(){b.contextWidth=b._context.width},[b._context,"width"]);b._removeUpdater("clip");b.clip=!0;b.anchors._replaceUpdater("fill",function(){b.anchors.fill=b._context},[b,"context"]);var c=a._this$child0;c.$s(a.$c$_this$child0);delete a.$c$_this$child0;c._removeUpdater("color");c.color="#424242";c.anchors._removeUpdater("fill");c.anchors.fill=c.parent;c.completed();
c=a._this$child1;c.$s(a.$c$_this$child1);delete a.$c$_this$child1;c.completed();c=a._this$child2;c.$s(a.$c$_this$child2);delete a.$c$_this$child2;c.completed();c=a._this$child3;c.$s(a.$c$_this$child3);delete a.$c$_this$child3;c._removeUpdater("component");c.component="src.MosaicPage";c._removeUpdater("name");c.name="mosaic";c.completed();b.completed()};var vc=d.Object,jb=vc.prototype,wc=d.GradientStop=function(a,b){vc.apply(this,arguments)},ia=wc.prototype=Object.create(jb);ia.constructor=wc;ia.componentName=
"core.GradientStop";e.addProperty(ia,"real","position");e.addProperty(ia,"color","color");ia._getDeclaration=function(){return new d.gradient.GradientStop(this.color,this.position)};l=function(a){this.parent._updateStyle()};d._protoOnChanged(ia,"position",l);d._protoOnChanged(ia,"color",l);ia.$c=function(a){jb.$c.call(this,a.$b={})};ia.$s=function(a){jb.$s.call(this,a.$b);delete a.$b;this.completed()};var xc=d.Item,Ka=xc.prototype,yc=d.VideoPlayer=function(a,b){xc.apply(this,arguments);this.impl=
null;this._createPlayer()},n=yc.prototype=Object.create(Ka);n.constructor=yc;n.componentName="core.VideoPlayer";n.text=d.createSignal("text");n.finished=d.createSignal("finished");n.error=d.createSignal("error");e.addProperty(n,"string","backend");e.addProperty(n,"string","source");e.addProperty(n,"string","backgroundImage");e.addProperty(n,"color","backgroundColor","#000");e.addProperty(n,"float","volume",1);e.addProperty(n,"bool","loop");e.addProperty(n,"bool","ready");e.addProperty(n,"bool","muted");
e.addProperty(n,"bool","paused");e.addProperty(n,"bool","waiting");e.addProperty(n,"bool","seeking");e.addProperty(n,"bool","stalled");e.addProperty(n,"bool","autoPlay");e.addProperty(n,"real","duration");e.addProperty(n,"real","progress");e.addProperty(n,"real","buffered");e.addProperty(n,"real","startPosition");n.play=function(){if(this.source){log("play",this.source);var a=this._getPlayer();a&&(this._scheduleLayout(),a.play());this.applyVolume()}};n._getPlayer=function(){null===this.impl&&this._createPlayer();
return this.impl};n._createPlayer=function(){if(this.impl)return this.impl;var a=this.source,b=this.backend;log("preferred backend: "+b);var c=d.__videoBackends,f=[];if(b&&c[b])return b=c[b](),this.impl=b.createPlayer(this);for(var h in c){b=c[h]();var e=b.probeUrl(a);0<e&&f.push({backend:b,score:e})}f.sort(function(a,b){return b.score-a.score});if(0===f.length)throw Error("no backends for source "+a);return this.impl=f[0].backend.createPlayer(this)};n._scheduleLayout=function(){this._context.delayedAction("layout",
this,this._doLayout)};n.pause=function(){var a=this._getPlayer();a&&a.pause()};n._doLayout=function(){var a=this._getPlayer();a&&a.setRect.apply(a,this.toScreen().slice(0,4))};n.stop=function(){var a=this._getPlayer();a&&a.stop()};n.getAudioTracks=function(){var a=this._getPlayer();return a?a.getAudioTracks():[]};n.getSubtitles=function(){var a=this._getPlayer();return a?a.getSubtitles():[]};n.getVideoTracks=function(){var a=this._getPlayer();return a?a.getVideoTracks():[]};n.applyVolume=function(){var a=
this._get("volumeStorage",!0);1<this.volume?this.volume=1:0>this.volume&&(this.volume=0);a.value=this.volume;(a=this._getPlayer())&&a.setVolume(this.volume)};n.__complete=function(){var a=this._get("volumeStorage",!0);Ka.__complete.call(this);this.volume=+a.value;(a=this._getPlayer())&&a.setBackgroundColor(this.backgroundColor);this.autoPlay&&this.source&&this.play()};n.volumeUp=function(){this.volume+=.1};n.volumeDown=function(){this.volume-=.1};n.toggleMute=function(){var a=this._getPlayer();a&&
a.setMute(!this.muted)};n.setOption=function(a,b){var c=this._getPlayer();c&&c.setOption(a,b)};n.setAudioTrack=function(a){var b=this._getPlayer();b&&b.setAudioTrack(a)};n.setSubtitles=function(a){var b=this._getPlayer();b&&b.setSubtitles(a)};n.setVideoTrack=function(a){var b=this._getPlayer();b&&b.setVideoTrack(a)};n.setupDrm=function(a,b,c,f){var h=this._getPlayer();h&&h.setupDrm(a,b,c,f)};n.seek=function(a){var b=this._getPlayer();b&&b.seek(a)};n.seekTo=function(a){var b=this._getPlayer();b&&b.seekTo(a)};
d._protoOnChanged(n,"backend",function(a){this.impl=null;this._createPlayer()});d._protoOnChanged(n,"backgroundColor",function(a){var b=this._getPlayer();b&&b.setBackgroundColor(a)});d._protoOnChanged(n,"loop",function(a){var b=this._getPlayer();b&&b.setLoop(a)});d._protoOnChanged(n,"source",function(a){var b=this._getPlayer();b&&b.setSource(a)});d._protoOnChanged(n,"recursiveVisible",function(a){var b=this._getPlayer();b&&b.setVisibility(a)});d._protoOnChanged(n,"ready",function(a){log("ReadyState: "+
this.ready)});d._protoOnChanged(n,"volume",function(a){this.applyVolume()});d._protoOnChanged(n,"autoPlay",function(a){this.setOption("autoplay",a)});d._protoOnChanged(n,"backgroundImage",function(a){this.setOption("poster",a)});d._protoOn(n,"newBoundingBox",function(){this._scheduleLayout()});d._protoOn(n,"error",function(a){this.waiting=this.paused=!1});n.$c=function(a){Ka.$c.call(this,a.$b={});var b=new d.PropertyStorage(this);a._this$child0=b;b.$c(a.$c$_this$child0={});b._setId("volumeStorage");
this.addChild(b)};n.$s=function(a){Ka.$s.call(this,a.$b);delete a.$b;var b=a._this$child0;b.$s(a.$c$_this$child0);delete a.$c$_this$child0;b._removeUpdater("defaultValue");b.defaultValue=1;b._removeUpdater("name");b.name="volume";b.completed();this.completed()};var zc=d.Item,La=zc.prototype,Ac=d.Rectangle=function(a,b){zc.apply(this,arguments);this._context.backend.initRectangle(this)},ja=Ac.prototype=Object.create(La);(ja._propertyToStyle=Object.create(La._propertyToStyle)).color="background-color";
ja.constructor=Ac;ja.componentName="core.Rectangle";e.addProperty(ja,"color","color","#0000");e.addLazyProperty(ja,"border",function(a,b){a=new d.Border(a,b);b={lazy$border:a};a.$c(b.$c$lazy$border={});a=b.lazy$border;a.$s(b.$c$lazy$border);delete b.$c$lazy$border;a.completed();return a});e.addProperty(ja,"Gradient","gradient");d._protoOnChanged(ja,"color",function(a){this.style("background-color",d.Color.normalize(a))});ja.$c=function(a){La.$c.call(this,a.$b={})};ja.$s=function(a){La.$s.call(this,
a.$b);delete a.$b;this.completed()};var Bc=d.Rectangle,kb=Bc.prototype,Cc=I.NestedVideo=function(a,b){Bc.apply(this,arguments)},sa=Cc.prototype=Object.create(kb);sa.constructor=Cc;sa.componentName="controls.experimental.NestedVideo";e.addProperty(sa,"bool","display");sa.hide=function(){var a=this._get("videoPlayer",!0);this.display=this.visible=!1;a.stop()};sa.showAndPlay=function(a){var b=this._get("videoPlayer",!0);this.display=this.visible=!0;b.source=a};sa.$c=function(a){kb.$c.call(this,a.$b=
{});var b=new d.VideoPlayer(this);a._this$child0=b;b.$c(a.$c$_this$child0={});b._setId("videoPlayer");this.addChild(b)};sa.$s=function(a){var b=this;kb.$s.call(this,a.$b);delete a.$b;b._removeUpdater("color");b.color="transparent";b._removeUpdater("visible");b.visible=!1;b.transform._replaceUpdater("scaleX",function(){b.transform.scaleX=b.display?1.1:.001},[b,"display"]);b.transform._removeUpdater("scaleY");b.transform.scaleY=1.1;b._removeUpdater("clip");b.clip=!0;var c=a._this$child0;c.$s(a.$c$_this$child0);
delete a.$c$_this$child0;c._removeUpdater("autoPlay");c.autoPlay=!0;c.anchors._removeUpdater("fill");c.anchors.fill=c.parent;c.completed();a=new d.Animation(b);c={behavior__this_on_transform:a};a.$c(c.$c$behavior__this_on_transform={});a=c.behavior__this_on_transform;a.$s(c.$c$behavior__this_on_transform);delete c.$c$behavior__this_on_transform;a._removeUpdater("duration");a.duration=300;a._removeUpdater("delay");a.delay=300;a.completed();b.setAnimation("transform",a);b.completed()};var Dc=d.Object,
lb=Dc.prototype,Ec=d.MouseMoveMixin=function(a,b){Dc.apply(this,arguments);this.element=this.parent.element;this._bindMove(this.enabled)},fa=Ec.prototype=Object.create(lb);fa.constructor=Ec;fa.componentName="core.MouseMoveMixin";fa.mouseMove=d.createSignal("mouseMove");e.addProperty(fa,"bool","enabled",!0);e.addProperty(fa,"int","mouseX");e.addProperty(fa,"int","mouseY");fa._updatePosition=function(a){var b=this.parent,c=a.offsetX;a=a.offsetY;return 0<=c&&0<=a&&c<b.width&&a<b.height?(this.mouseX=
c,this.mouseY=a,this.mouseMove(c,a),!0):!1};fa._bindMove=function(a){a&&!this._mouseMoveBinder&&(this._mouseMoveBinder=new d.EventBinder(this.element),this._mouseMoveBinder.on("mousemove",function(a){this._updatePosition(a)||a.preventDefault()}.bind(this)));this._mouseMoveBinder&&this._mouseMoveBinder.enable(a)};d._protoOnChanged(fa,"enabled",function(a){this._bindMove(a)});fa.$c=function(a){lb.$c.call(this,a.$b={})};fa.$s=function(a){lb.$s.call(this,a.$b);delete a.$b;this.completed()};var Fc=d.Object,
mb=Fc.prototype,Gc=ya.Method=function(a,b){Fc.apply(this,arguments)},ba=Gc.prototype=Object.create(mb);ba.constructor=Gc;ba.componentName="controls.web.api.Method";e.addProperty(ba,"string","type","GET");e.addProperty(ba,"string","name");e.addProperty(ba,"string","path");ba.args=function(){};ba.call=function(a,b){var c=this.args.length;if(b.length<c+2)throw Error("not enough arguments for method "+this.name);c=b.length-2;var f=Array.prototype.slice.call(b,0,c),h=this.args.apply(this,f),d=b[c+0];b=
b[c+1];c={};var e=this.headers(c);void 0!==e&&(c=e);f=this.pathArgs(this.path,f);a.call(f,d,b,this.type,h,c)};ba.headers=function(a){};ba.pathArgs=function(a,b){a=this.path;var c=0;return a=a.replace(/\{(\w+)\}/g,function(a){return c<b.length?b[c++]:""})};d._protoOnChanged(ba,"name",function(a){this.parent._registerMethod(this.name,this)});ba.$c=function(a){mb.$c.call(this,a.$b={})};ba.$s=function(a){mb.$s.call(this,a.$b);delete a.$b;this.completed()};var Hc=d.Object,nb=Hc.prototype,ta=d.Font=function(a,
b){Hc.apply(this,arguments)},v=ta.prototype=Object.create(nb);v.constructor=ta;v.componentName="core.Font";e.addProperty(v,"string","family",$manifest$style$font$family);e.addProperty(v,"bool","italic");e.addProperty(v,"bool","bold");e.addProperty(v,"bool","underline");e.addProperty(v,"bool","overline");e.addProperty(v,"bool","strike");e.addProperty(v,"bool","strikeout");e.addProperty(v,"real","letterSpacing");e.addProperty(v,"real","wordSpacing");e.addProperty(v,"int","pixelSize",$manifest$style$font$pixelSize);
e.addProperty(v,"int","pointSize");e.addProperty(v,"real","lineHeight",$manifest$style$font$lineHeight);e.addProperty(v,"int","weight");v.MixedCase=0;ta.MixedCase=0;v.AllUppercase=1;ta.AllUppercase=1;v.AllLowercase=2;ta.AllLowercase=2;v.SmallCaps=3;ta.SmallCaps=3;v.Capitalize=4;ta.Capitalize=4;e.addProperty(v,"enum","capitalization");v._updateTextDecoration=function(){this.parent.style("text-decoration",(this.underline?" underline":"")+(this.overline?" overline":"")+(this.strike||this.strikeout?" line-through":
""));this.parent._updateSize()};d._protoOnChanged(v,"capitalization",function(a){this.parent.style("text-transform","none");this.parent.style("font-variant","normal");switch(a){case this.AllUppercase:this.parent.style("text-transform","uppercase");break;case this.AllLowercase:this.parent.style("text-transform","lowercase");break;case this.SmallCaps:this.parent.style("font-variant","small-caps");break;case this.Capitalize:this.parent.style("text-transform","capitalize")}});d._protoOnChanged(v,"pointSize",
function(a){0<a&&(this.pixelSize=0);this.parent.style("font-size",0<a?a+"pt":"");this.parent._updateSize()});d._protoOnChanged(v,"pixelSize",function(a){0<a&&(this.pointSize=0);this.parent.style("font-size",0<a?a+"px":"");this.parent._updateSize()});l=function(a){this._updateTextDecoration()};d._protoOnChanged(v,"strike",l);d._protoOnChanged(v,"overline",l);d._protoOnChanged(v,"strikeout",l);d._protoOnChanged(v,"underline",l);d._protoOnChanged(v,"family",function(a){this.parent.style("font-family",
a);this.parent._updateSize()});d._protoOnChanged(v,"italic",function(a){this.parent.style("font-style",a?"italic":"normal");this.parent._updateSize()});d._protoOnChanged(v,"weight",function(a){this.parent.style("font-weight",a);this.parent._updateSize()});d._protoOnChanged(v,"bold",function(a){this.parent.style("font-weight",a?"bold":"normal");this.parent._updateSize()});d._protoOnChanged(v,"letterSpacing",function(a){this.parent.style("letter-spacing",a+"px");this.parent._updateSize()});d._protoOnChanged(v,
"lineHeight",function(a){this.parent.style("line-height",a);this.parent._updateSize()});d._protoOnChanged(v,"wordSpacing",function(a){this.parent.style("word-spacing",a+"px");this.parent._updateSize()});v.$c=function(a){nb.$c.call(this,a.$b={})};v.$s=function(a){nb.$s.call(this,a.$b);delete a.$b;this.completed()};var Ic=d.BaseLayout,Ma=Ic.prototype,oa=d.BaseView=function(a,b){Ic.apply(this,arguments);this._items=[];this._modelUpdate=new d.model.ModelUpdate;this._attached=null;this._modelReset=this._onReset.bind(this);
this._modelRowsInserted=this._onRowsInserted.bind(this);this._modelRowsChanged=this._onRowsChanged.bind(this);this._modelRowsRemoved=this._onRowsRemoved.bind(this)},m=oa.prototype=Object.create(Ma);m.constructor=oa;m.componentName="core.BaseView";m.scrollEvent=d.createSignal("scrollEvent");m.layoutFinished=d.createSignal("layoutFinished");e.addProperty(m,"Item","highlight");e.addProperty(m,"Object","model");e.addProperty(m,"Item","delegate");e.addProperty(m,"int","contentX");e.addProperty(m,"int",
"contentY");e.addProperty(m,"int","scrollingStep",0);e.addProperty(m,"int","animationDuration",0);e.addProperty(m,"string","animationEasing","ease");e.addProperty(m,"bool","contentFollowsCurrentItem",!0);e.addProperty(m,"bool","nativeScrolling");e.addProperty(m,"real","prerender",.5);e.addProperty(m,"string","visibilityProperty");e.addProperty(m,"BaseViewContent","content");m.Contain=0;oa.Contain=0;m.Beginning=1;oa.Beginning=1;m.Center=2;oa.Center=2;m.End=3;oa.End=3;m.Visible=4;oa.Visible=4;m.Page=
5;oa.Page=5;e.addProperty(m,"enum","positionMode");m.discard=function(){this._detach();d.BaseLayout.prototype.discard.apply(this)};m._processUpdates=function(){this._modelUpdate.apply(this);qml.core.BaseLayout.prototype._processUpdates.apply(this);this.count=this._items.length};m.focusCurrent=function(){var a=this.count;if(0!==a){var b=this.currentIndex;0>b||b>=a?this.currentIndex=this.keyNavigationWraps?(b+a)%a:0>b?0:a-1:((a=this._items[b])&&this.focusChild(a),this.contentFollowsCurrentItem&&this.positionViewAtIndex(b),
this.highlight&&(this.highlight.x=a.viewX,this.highlight.y=a.viewY,this.highlight.width=a.width,this.highlight.height=a.height))}};m._attach=function(){this._get("model",!0);if(!this._attached&&this.model&&this.delegate){this.trace&&log("attaching model...");var a=d.Model;var b=this.model;var c=typeof b;if(!(void 0!==a&&b instanceof a))if(Array.isArray(b))b=new d.model.ArrayModelWrapper(b);else if("number"===c){a=[];for(c=0;c<b;++c)a.push({});b=new d.model.ArrayModelWrapper(a)}else throw Error("unknown value of type '"+
typeof b+"', attached to model property: "+b+("object"===c&&"componentName"in b?", component name: "+b.componentName:""));b.on("reset",this._modelReset);b.on("rowsInserted",this._modelRowsInserted);b.on("rowsChanged",this._modelRowsChanged);b.on("rowsRemoved",this._modelRowsRemoved);this._attached=b;this._onReset()}};m._detach=function(){var a;this._get("model",!0);if(a=this._attached)this.trace&&log("detaching model..."),this._attached=null,a.removeListener("reset",this._modelReset),a.removeListener("rowsInserted",
this._modelRowsInserted),a.removeListener("rowsChanged",this._modelRowsChanged),a.removeListener("rowsRemoved",this._modelRowsRemoved)};m._onReset=function(){this._get("model",!0);var a=this._attached;this.trace&&log("reset",this._items.length,a.count);this._modelUpdate.reset(a);this._scheduleLayout()};m.__complete=function(){Ma.__complete.call(this);this.highlight&&(this.highlight.element.remove(),this.content.element.prepend(this.highlight.element));var a=this;this.element.on("scroll",function(){var b=
a.element.getScrollX(),c=a.element.getScrollY();a._updateScrollPositions(b,c);a.scrollEvent(b,c)}.bind(this))};m._updateItems=function(a,b){for(;a<b;++a)this._updateDelegate(a)};m._onRowsChanged=function(a,b){this.trace&&log("rows changed",a,b);this._modelUpdate.update(this._attached,a,b);this._scheduleLayout()};m._onRowsInserted=function(a,b){this.trace&&log("rows inserted",a,b);this._modelUpdate.insert(this._attached,a,b);this._scheduleLayout()};m._onRowsRemoved=function(a,b){this.trace&&log("rows removed",
a,b);this._modelUpdate.remove(this._attached,a,b);this._scheduleLayout()};m._removeItems=function(a,b){var c=this;this._items.splice(a,b-a).forEach(function(a){c._discardItem(a)})};m._insertItems=function(a,b){b=b-a+2;var c=Array(b);c[0]=a;c[1]=0;for(a=2;a<b;++a)c[a]=null;Array.prototype.splice.apply(this._items,c)};m._updateDelegateIndex=function(a){var b=this._items[a];b&&(b._local.model.index=a,b._createPropertyStorage("_rowIndex").callOnChanged(b,"_rowIndex"))};m._updateDelegate=function(a){var b=
this._items[a];if(b){var c=this._attached.get(a);c.index=a;b._local.model=c;b._createPropertyStorage("_row").callOnChanged(b,"_row")}};m.itemAtIndex=function(a){return(a=this._items[a])?a:null};m._createDelegate=function(a,b){var c=this._items,f=c[a];if(null!==f&&void 0!==f)return f;f=this.visibilityProperty;var h=this._attached.get(a);this.trace&&log("createDelegate",a,h);if(f&&!h[f])return null;h.index=a;f=this.delegate(this,h);c[a]=f;f.view=this;f.element.remove();void 0===b?this.content.element.append(f.element):
b.call(this,f);f.recursiveVisible=this.recursiveVisible&&f.visible&&f.visibleInView;return f};m._discardItem=function(a){null!==a&&(this.focusedChild===a&&(this.focusedChild=null),a.discard())};m.positionViewAtItemHorizontally=function(a,b,c){var f=this.contentX,h=a[0];a=a[2];var d=this.width,e=h-d/2+a/2;a>d?this.contentX=c?e:h:b&&this.contentWidth>d?this.contentX=0>e?0:h>this.contentWidth-d/2-a/2?this.contentWidth-d:e:0>=h-f?this.contentX=h:h-f+a>d&&(this.contentX=h+a-d)};m.positionViewAtItemVertically=
function(a,b,c){var f=this.contentY,h=a[1];a=a[3];var d=this.height,e=h-d/2+a/2;a>d?this.contentY=c?e:h:b&&this.contentHeight>d?this.contentY=0>e?0:h>this.contentHeight-d/2-a/2?this.contentHeight-d:e:0>=h-f?this.contentY=h:h-f+a>d&&(this.contentY=h+a-d)};m.itemAt=function(a,b){a=this.indexAt(a,b);return 0<=a?this._items[a]:null};m._updateScrollPositions=function(a,b,c){this._setProperty("contentX",a);this._setProperty("contentY",b);this.content._updateScrollPositions(a,b,c)};d._protoOnChanged(m,"model",
function(a){this.trace&&log("model changed to ",a);this._detach();this._modelUpdate.clear();this._removeItems(0,this.count);this.count=0;this._scheduleLayout()});d._protoOnChanged(m,"recursiveVisible",function(a){a&&this._scheduleLayout();var b=this;this._items.forEach(function(c){null!==c&&b._updateVisibilityForChild(c,a)});this._updateVisibilityForChild(this.content,a)});d._protoOnChanged(m,"delegate",function(a){a&&(a.visible=!1)});d._protoOnChanged(m,"currentIndex",function(a){this.focusCurrent()});
d._protoOnChanged(m,"focusedChild",function(a){a=this._items.indexOf(this.focusedChild);0<=a&&(this.currentIndex=a)});l=function(a){this._scheduleLayout()};d._protoOnChanged(m,"height",l);d._protoOnChanged(m,"width",l);d._protoOnChanged(m,"contentX",function(a){this.content.x=-a});d._protoOnChanged(m,"contentY",function(a){this.content.y=-a});m.$c=function(a){Ma.$c.call(this,a.$b={});var b=new d.BaseViewContent(this);a._this$content=b;b.$c(a.$c$_this$content={});this.content=b};m.$s=function(a){var b=
this;Ma.$s.call(this,a.$b);delete a.$b;b._removeUpdater("keyNavigationWraps");b.keyNavigationWraps=!0;b._replaceUpdater("cssPointerTouchEvents",function(){b.cssPointerTouchEvents=b.nativeScrolling},[b,"nativeScrolling"]);var c=a._this$content;c.$s(a.$c$_this$content);delete a.$c$_this$content;c._replaceUpdater("cssTranslatePositioning",function(){c.cssTranslatePositioning=c.parent.cssTranslatePositioning},[c.parent,"cssTranslatePositioning"]);c._replaceUpdater("cssPointerTouchEvents",function(){c.cssPointerTouchEvents=
c.parent.cssPointerTouchEvents},[c.parent,"cssPointerTouchEvents"]);var f=new d.Animation(c);a={behavior__this_content_on_y:f};f.$c(a.$c$behavior__this_content_on_y={});f=a.behavior__this_content_on_y;f.$s(a.$c$behavior__this_content_on_y);delete a.$c$behavior__this_content_on_y;f._replaceUpdater("duration",function(){f.duration=f.parent.parent.animationDuration},[f.parent.parent,"animationDuration"]);f._replaceUpdater("easing",function(){f.easing=f.parent.parent.animationEasing},[f.parent.parent,
"animationEasing"]);f.completed();c.setAnimation("y",f);var h=new d.Animation(c);a={behavior__this_content_on_x:h};h.$c(a.$c$behavior__this_content_on_x={});h=a.behavior__this_content_on_x;h.$s(a.$c$behavior__this_content_on_x);delete a.$c$behavior__this_content_on_x;h._replaceUpdater("duration",function(){h.duration=h.parent.parent.animationDuration},[h.parent.parent,"animationDuration"]);h._replaceUpdater("easing",function(){h.easing=h.parent.parent.animationEasing},[h.parent.parent,"animationEasing"]);
h.completed();c.setAnimation("x",h);var e=new d.Animation(c);a={behavior__this_content_on_transform:e};e.$c(a.$c$behavior__this_content_on_transform={});e=a.behavior__this_content_on_transform;e.$s(a.$c$behavior__this_content_on_transform);delete a.$c$behavior__this_content_on_transform;e._replaceUpdater("duration",function(){e.duration=e.parent.parent.animationDuration},[e.parent.parent,"animationDuration"]);e._replaceUpdater("easing",function(){e.easing=e.parent.parent.animationEasing},[e.parent.parent,
"animationEasing"]);e.completed();c.setAnimation("transform",e);c.completed();b._replaceUpdater("nativeScrolling",function(){b.nativeScrolling=b._context.system.device===b._context.system.Mobile},[b._context.system,"device",b._context.system,"Mobile"]);b._removeUpdater("contentWidth");b.contentWidth=1;b._removeUpdater("contentHeight");b.contentHeight=1;b._removeUpdater("handleNavigationKeys");b.handleNavigationKeys=!0;b.completed()};var Jc=d.BaseView,Na=Jc.prototype,Oa=d.GridView=function(a,b){Jc.apply(this,
arguments)},A=Oa.prototype=Object.create(Na);A.constructor=Oa;A.componentName="core.GridView";e.addProperty(A,"int","cellWidth",100);e.addProperty(A,"int","cellHeight",100);e.addProperty(A,"int","rows");e.addProperty(A,"int","columns");A.FlowLeftToRight=0;Oa.FlowLeftToRight=0;A.FlowTopToBottom=1;Oa.FlowTopToBottom=1;e.addProperty(A,"enum","flow");A._updateOverflow=function(){if(this.nativeScrolling){var a={};this.flow!==this.FlowLeftToRight?(a["overflow-x"]="auto",a["overflow-y"]="hidden"):(a["overflow-x"]=
"hidden",a["overflow-y"]="auto");this.style(a)}};A.moveUp=function(){if(this.flow===this.FlowLeftToRight){if(!this.keyNavigationWraps&&this.currentIndex<this.columns)return!1;this.currentIndex=this.keyNavigationWraps&&0>this.currentIndex-this.columns?this.count-1:0>this.currentIndex-this.columns?0:this.currentIndex-this.columns}else{if(!this.keyNavigationWraps&&0===this.currentIndex)return!1;--this.currentIndex}return!0};A.moveLeft=function(){if(this.flow===this.FlowLeftToRight)if(this.keyNavigationWraps&&
0===this.currentIndex)this.currentIndex=this.count-1;else if(this.keyNavigationWraps||0!==this.currentIndex)--this.currentIndex;else return!1;else{if(!this.keyNavigationWraps&&this.currentIndex<this.rows)return!1;this.currentIndex=0>this.currentIndex-this.rows?0:this.currentIndex-this.rows}return!0};A.moveRight=function(){if(this.flow===this.FlowLeftToRight)if(this.keyNavigationWraps&&this.currentIndex===this.count-1)this.currentIndex=0;else if(this.keyNavigationWraps||this.currentIndex!==this.count-
1)++this.currentIndex;else return!1;else{if(!this.keyNavigationWraps&&this.currentIndex>this.count-this.rows+1)return!1;this.currentIndex=this.currentIndex+this.rows>=this.count?this.count-1:this.currentIndex+this.rows}return!0};A.moveDown=function(){if(this.flow===this.FlowLeftToRight){var a=Math.floor(this.currentIndex/this.columns),b=Math.floor(this.count/this.columns);if(!this.keyNavigationWraps&&a>=b)return!1;this.currentIndex=this.keyNavigationWraps&&this.currentIndex+this.columns>=this.count?
0:this.currentIndex+this.columns>=this.count?this.count-1:this.currentIndex+this.columns}else{if(!this.keyNavigationWraps&&this.currentIndex===this.columns-1)return!1;++this.currentIndex}return!0};A._layout=function(){var a=this._get("model",!0);if(this.recursiveVisible||this.offlineLayout)if(a=this._attached)if(this.count=a.count){a=this.flow===this.FlowLeftToRight;var b=this._items,c=b.length,f=this.width,h=this.height;this.trace&&log("layout "+c+" into "+f+"x"+h+" @ "+this.content.x+","+this.content.y);
for(var d=!1,e=0,g=0,l=this.content.x,k=this.content.y,n=a?function(){return k+g>=h}:function(){return l+e>=f},m=0,q=this.cellWidth,t=this.cellHeight,p=q+this.spacing,v=t+this.spacing,u=0;u<c&&!n();++u){var r=this._items[u];r||(r=this._createDelegate(u))&&(d=!0);++m;r&&(r.viewX=e,r.viewY=g);r&&(this.currentIndex!==u||r.focused||(this.focusChild(r),this.contentFollowsCurrentItem&&this.positionViewAtIndex(u)),r.visibleInView=a?0<=k+g+r.height&&k+g<h:0<=l+e+r.width&&l+e<f);a?(e+=p,0<e&&e+q>f&&(e=0,g+=
v)):(g+=v,0<g&&g+t>h&&(g=0,e+=p))}for(;u<c;++u)if(r=b[u])r.visibleInView=!1;a?(this.columns=Math.floor((f+this.spacing)/(this.cellWidth+this.spacing)),this.rows=Math.floor((c+this.columns-1)/this.columns)):(this.rows=Math.floor((h+this.spacing)/(this.cellHeight+this.spacing)),this.columns=Math.floor((c+this.rows-1)/this.rows));this.contentWidth=this.content.width=this.columns*(this.cellWidth+this.spacing)-this.spacing;this.contentHeight=this.content.height=this.rows*(this.cellHeight+this.spacing)-
this.spacing;this.layoutFinished();d&&this._context.scheduleComplete()}else this.layoutFinished();else this.layoutFinished()};A.__complete=function(){Na.__complete.call(this);this._updateOverflow()};A.move=function(a,b){var c=this.flow===this.FlowLeftToRight;c&&this.contentHeight>this.height?(a=this.contentY+b,0>a?a=0:a>this.contentHeight-this.height&&(a=this.contentHeight-this.height),this.contentY=a):!c&&this.contentWidth>this.width&&(a=this.contentX+a,0>a?a=0:a>this.contentWidth-this.width&&(a=
this.contentWidth-this.width),this.contentX=a)};A.positionViewAtIndex=function(a){var b=this.contentX,c=this.contentY,f=this.getItemPosition(a);a=f[0];var h=f[1],d=f[2];f=f[3];var e=this.width,g=this.height;this.flow!==this.FlowLeftToRight?d>e?this.contentX=a-e/2+d/2:0>a-b?this.contentX=a:a-b+d>e&&(this.contentX=a+d-e):f>g?this.contentY=h-g/2+f/2:0>h-c?this.contentY=h:h-c+f>g&&(this.contentY=h+f-g)};A.getItemPosition=function(a){var b=this.cellWidth,c=this.cellHeight;if(this.flow===this.FlowLeftToRight){if(0===
this.columns)return[0,0,0,0];var f=a%this.columns*b;a=Math.floor(a/this.columns)*c}else{if(0===this.rows)return[0,0,0,0];f=Math.floor(a/this.rows)*b;a=a%this.rows*c}return[f,a,b,c]};A.indexAt=function(a,b){a-=this.content.x;b-=this.content.y;var c=this.flow===this.FlowLeftToRight;a=Math.floor(a/(this.cellWidth+this.spacing));b=Math.floor(b/(this.cellHeight+this.spacing));return c?b*this.columns+a:a*this.rows+b};d._protoOnChanged(A,"count",function(a){0==a&&(this.columns=this.rows=0)});l=function(a){this._scheduleLayout()};
d._protoOnChanged(A,"cellWidth",l);d._protoOnChanged(A,"cellHeight",l);d._protoOnChanged(A,"flow",function(a){this._updateOverflow();this._scheduleLayout()});d._protoOnKey(A,"Key",function(a,b){if(!this.handleNavigationKeys)return!1;switch(a){case "Up":return this.moveUp();case "Down":return this.moveDown();case "Left":return this.moveLeft();case "Right":return this.moveRight()}});A.$c=function(a){Na.$c.call(this,a.$b={})};A.$s=function(a){Na.$s.call(this,a.$b);delete a.$b;this.completed()};var Kc=
d.GridView,ob=Kc.prototype,Lc=I.Mosaic=function(a,b){Kc.apply(this,arguments)},ca=Lc.prototype=Object.create(ob);ca.constructor=Lc;ca.componentName="controls.experimental.Mosaic";ca.play=d.createSignal("play");ca.itemFocused=d.createSignal("itemFocused");e.addProperty(ca,"bool","hoverMode");e.addProperty(ca,"bool","mobile");e.addProperty(ca,"int","offset");e.addProperty(ca,"int","delegateRadius");ca.fill=function(a,b){var c=[],f;for(f in a){var h=b(a[f]);h&&c.push(h)}this.model.assign(c)};d._protoOnKey(ca,
"Key",function(a,b){return this.hoverMode=!1});ca.$c=function(a){ob.$c.call(this,a.$b={});this.delegate=function(a,b){var c=new d.Rectangle(a,b);a={delegate:c};c.$c(a.$c$delegate={});c.pressed=d.createSignal("pressed").bind(c);e.addProperty(c,"bool","active");e.addProperty(c,"Mixin","hoverMixin");b=new d.MouseMoveMixin(c);a.delegate$child0=b;b.$c(a.$c$delegate$child0={});c.addChild(b);var f=new d.Image(c);a.delegate$child1=f;f.$c(a.$c$delegate$child1={});e.addProperty(f,"bool","display");f._setId("programImage");
c.addChild(f);var w=new d.Rectangle(c);a.delegate$child2=w;w.$c(a.$c$delegate$child2={});b=new d.Gradient(w);a.delegate_child2$gradient=b;b.$c(a.$c$delegate_child2$gradient={});var E=new d.GradientStop(b);a.delegate_child2_gradient$child0=E;E.$c(a.$c$delegate_child2_gradient$child0={});b.addChild(E);E=new d.GradientStop(b);a.delegate_child2_gradient$child1=E;E.$c(a.$c$delegate_child2_gradient$child1={});b.addChild(E);w.gradient=b;c.addChild(w);var l=new d.Image(c);a.delegate$child3=l;l.$c(a.$c$delegate$child3=
{});c.addChild(l);var k=new la.EllipsisText(c);a.delegate$child4=k;k.$c(a.$c$delegate$child4={});c.addChild(k);var n=new d.Rectangle(c);a.delegate$child5=n;n.$c(a.$c$delegate$child5={});var m=new d.Rectangle(n);a.delegate_child5$child0=m;m.$c(a.$c$delegate_child5$child0={});n.addChild(m);c.addChild(n);b=new d.Timer(c);a.delegate$child6=b;b.$c(a.$c$delegate$child6={});b._setId("flipTimer");c.addChild(b);b=new la.HoverClickMixin(c);a.delegate$hoverMixin=b;b.$c(a.$c$delegate$hoverMixin={});c.hoverMixin=
b;e.addAliasProperty(c,"hover",function(){return c.hoverMixin},"value");c=a.delegate;c.$s(a.$c$delegate);delete a.$c$delegate;c._removeUpdater("clip");c.clip=!0;c._removeUpdater("color");c.color="#464646";b=a.delegate$hoverMixin;b.$s(a.$c$delegate$hoverMixin);delete a.$c$delegate$hoverMixin;b.completed();c.effects.shadow._removeUpdater("blur");c.effects.shadow.blur=10;c._replaceUpdater("height",function(){c.height=c.parent.cellHeight},[c.parent,"cellHeight"]);c._replaceUpdater("width",function(){c.width=
c.parent.cellWidth},[c.parent,"cellWidth"]);c._replaceUpdater("radius",function(){c.radius=c._get("nowonTvGrid").delegateRadius},[c._get("nowonTvGrid"),"delegateRadius"]);c.effects.shadow._replaceUpdater("color",function(){c.effects.shadow.color=c.active?"#00f":"#0000"},[c,"active"]);c._replaceUpdater("active",function(){c.active=c.activeFocus},[c,"activeFocus"]);c.effects.shadow._removeUpdater("spread");c.effects.shadow.spread=1;c._replaceUpdater("z",function(){c.z=c.active?c.parent.z+1:c.parent.z},
[c.parent,"z",c,"active"]);c.transform._replaceUpdater("scaleX",function(){c.transform.scaleX=c.active?1.05:1},[c,"active"]);c.transform._replaceUpdater("scaleY",function(){c.transform.scaleY=c.active?1.05:1},[c,"active"]);c.on("clicked",function(){var a=this._get("model",!0);this.parent.currentIndex=a.index;this.pressed()}.bind(c));c.on("pressed",function(){var a=this._get("model",!0);this.parent.play(a.index)}.bind(c));c.onChanged("active",function(a){var b=this._get("flipTimer",!0);a&&b.restart()}.bind(c));
c.onPressed("Select",function(a,b){this.pressed()}.bind(c));b=a.delegate$child0;b.$s(a.$c$delegate$child0);delete a.$c$delegate$child0;b.on("mouseMove",function(){var a=this._get("model",!0),b=this._get("nowonTvGrid",!0);b.hoverMode=!0;b.currentIndex=a.index}.bind(b));b.completed();f=a.delegate$child1;f.$s(a.$c$delegate$child1);delete a.$c$delegate$child1;f._replaceUpdater("source",function(){f.source=f._get("model").preview?f._get("model").preview:""},[f._get("_delegate"),"_row"]);f._removeUpdater("fillMode");
f.fillMode=g.core.Image.prototype.PreserveAspectCrop;f._replaceUpdater("visible",function(){f.visible=f.source},[f,"source"]);f.anchors._removeUpdater("fill");f.anchors.fill=f.parent;f.onChanged("status",function(a){this.display=this.status==this.Ready}.bind(f));f.completed();w=a.delegate$child2;w.$s(a.$c$delegate$child2);delete a.$c$delegate$child2;w.anchors._replaceUpdater("bottomMargin",function(){w.anchors.bottomMargin=2*w._context.virtualScale},[w._context,"virtualScale"]);w._replaceUpdater("width",
function(){w.width=w.parent.width},[w.parent,"width"]);b=a.delegate_child2$gradient;b.$s(a.$c$delegate_child2$gradient);delete a.$c$delegate_child2$gradient;E=a.delegate_child2_gradient$child0;E.$s(a.$c$delegate_child2_gradient$child0);delete a.$c$delegate_child2_gradient$child0;E._removeUpdater("color");E.color="#0000";E._removeUpdater("position");E.position=0;E.completed();E=a.delegate_child2_gradient$child1;E.$s(a.$c$delegate_child2_gradient$child1);delete a.$c$delegate_child2_gradient$child1;
E._removeUpdater("color");E.color="#000";E._removeUpdater("position");E.position=1;E.completed();b.completed();w.anchors._replaceUpdater("bottom",function(){w.anchors.bottom=w.parent.bottom},[w.parent,"bottom"]);w._replaceUpdater("height",function(){w.height=70*w._context.virtualScale},[w._context,"virtualScale"]);w.completed();l=a.delegate$child3;l.$s(a.$c$delegate$child3);delete a.$c$delegate$child3;l._removeUpdater("horizontalAlignment");l.horizontalAlignment=g.core.Image.prototype.AlignRight;
l._replaceUpdater("source",function(){l.source=l._get("model").icon?l._get("model").icon:""},[l._get("_delegate"),"_row"]);l.anchors._replaceUpdater("bottomMargin",function(){l.anchors.bottomMargin=21*l._context.virtualScale},[l._context,"virtualScale"]);l._replaceUpdater("height",function(){l.height=70*l._context.virtualScale},[l._context,"virtualScale"]);l._replaceUpdater("width",function(){l.width=100*l._context.virtualScale},[l._context,"virtualScale"]);l._removeUpdater("fillMode");l.fillMode=
g.core.Image.prototype.PreserveAspectFit;l._removeUpdater("verticalAlignment");l.verticalAlignment=g.core.Image.prototype.AlignTop;l.anchors._replaceUpdater("bottom",function(){l.anchors.bottom=l.parent.bottom},[l.parent,"bottom"]);l._replaceUpdater("x",function(){l.x=10*l._context.virtualScale},[l._context,"virtualScale"]);l.completed();k=a.delegate$child4;k.$s(a.$c$delegate$child4);delete a.$c$delegate$child4;k._removeUpdater("color");k.color="#fff";k._replaceUpdater("text",function(){k.text=k._get("model").title},
[k._get("_delegate"),"_row"]);k.anchors._replaceUpdater("bottomMargin",function(){k.anchors.bottomMargin=6*k._context.virtualScale},[k._context,"virtualScale"]);k._replaceUpdater("width",function(){k.width=270*k._context.virtualScale},[k._context,"virtualScale"]);k.anchors._replaceUpdater("bottom",function(){k.anchors.bottom=k.parent.bottom},[k.parent,"bottom"]);k.font._replaceUpdater("pixelSize",function(){k.font.pixelSize=k._get("nowonTvGrid").mobile?9*k._context.virtualScale:18*k._context.virtualScale},
[k._get("nowonTvGrid"),"mobile",k._context,"virtualScale"]);k._replaceUpdater("x",function(){k.x=10*k._context.virtualScale},[k._context,"virtualScale"]);k.completed();n=a.delegate$child5;n.$s(a.$c$delegate$child5);delete a.$c$delegate$child5;n._removeUpdater("color");n.color="#000c";n._replaceUpdater("width",function(){n.width=n.parent.width},[n.parent,"width"]);n.anchors._replaceUpdater("bottom",function(){n.anchors.bottom=n.parent.bottom},[n.parent,"bottom"]);n._removeUpdater("clip");n.clip=!0;
n._replaceUpdater("height",function(){n.height=2*n._context.virtualScale},[n._context,"virtualScale"]);m=a.delegate_child5$child0;m.$s(a.$c$delegate_child5$child0);delete a.$c$delegate_child5$child0;m._removeUpdater("color");m.color="#e53935";m._replaceUpdater("width",function(){m.width=m.parent.width*m._get("model").progress},[m._get("_delegate"),"_row",m.parent,"width"]);m._replaceUpdater("height",function(){m.height=m.parent.height},[m.parent,"height"]);m.completed();n.completed();b=a.delegate$child6;
b.$s(a.$c$delegate$child6);delete a.$c$delegate$child6;b._removeUpdater("interval");b.interval=3E3;b.on("triggered",function(){var a=this._get("model",!0),b=this._get("nowonTvGrid",!0);this.parent.active&&(this.parent.transform.scaleX=0,b.itemFocused(a.index))}.bind(b));b.completed();a=new d.Animation(c);b={behavior_delegate_on_transform:a};a.$c(b.$c$behavior_delegate_on_transform={});a=b.behavior_delegate_on_transform;a.$s(b.$c$behavior_delegate_on_transform);delete b.$c$behavior_delegate_on_transform;
a._removeUpdater("duration");a.duration=300;a.completed();c.setAnimation("transform",a);c.completed();return c};var b=new d.ListModel(this);a._this$model=b;b.$c(a.$c$_this$model={});this.model=b;this._setId("nowonTvGrid")};ca.$s=function(a){var b=this;ob.$s.call(this,a.$b);delete a.$b;b._replaceUpdater("cellWidth",function(){b.cellWidth=(b._context.width>b._context.height?.25:.5)*b.width-b.spacing},[b,"width",b._context,"height",b._context,"width",b,"spacing"]);b._replaceUpdater("mobile",function(){b.mobile=
b._context.system.device===b._context.system.Mobile},[b._context.system,"device",b._context.system,"Mobile"]);b._removeUpdater("keyNavigationWraps");b.keyNavigationWraps=!1;b._replaceUpdater("spacing",function(){b.spacing=10*b._context.virtualScale},[b._context,"virtualScale"]);b._replaceUpdater("contentFollowsCurrentItem",function(){b.contentFollowsCurrentItem=!b.hoverMode},[b,"hoverMode"]);b._replaceUpdater("height",function(){b.height=b.parent.height},[b.parent,"height"]);b._replaceUpdater("width",
function(){b.width=b.parent.width},[b.parent,"width"]);b._removeUpdater("nativeScrolling");b.nativeScrolling=!0;b.content._removeUpdater("cssTranslatePositioning");b.content.cssTranslatePositioning=!0;var c=a._this$model;c.$s(a.$c$_this$model);delete a.$c$_this$model;c.completed();b._replaceUpdater("cellHeight",function(){b.cellHeight=.625*b.cellWidth},[b,"cellWidth"]);b.completed()};var Mc=d.Object,pb=Mc.prototype,P=d.Border=function(a,b){Mc.apply(this,arguments)},z=P.prototype=Object.create(pb);
z.constructor=P;z.componentName="core.Border";e.addProperty(z,"int","width");e.addProperty(z,"color","color","black");e.addLazyProperty(z,"left",function(a,b){a=new d.BorderSide(a,b);b={lazy$left:a};a.$c(b.$c$lazy$left={});a=b.lazy$left;a.$s(b.$c$lazy$left);delete b.$c$lazy$left;a._removeUpdater("name");a.name="left";a.completed();return a});e.addLazyProperty(z,"right",function(a,b){a=new d.BorderSide(a,b);b={lazy$right:a};a.$c(b.$c$lazy$right={});a=b.lazy$right;a.$s(b.$c$lazy$right);delete b.$c$lazy$right;
a._removeUpdater("name");a.name="right";a.completed();return a});e.addLazyProperty(z,"top",function(a,b){a=new d.BorderSide(a,b);b={lazy$top:a};a.$c(b.$c$lazy$top={});a=b.lazy$top;a.$s(b.$c$lazy$top);delete b.$c$lazy$top;a._removeUpdater("name");a.name="top";a.completed();return a});e.addLazyProperty(z,"bottom",function(a,b){a=new d.BorderSide(a,b);b={lazy$bottom:a};a.$c(b.$c$lazy$bottom={});a=b.lazy$bottom;a.$s(b.$c$lazy$bottom);delete b.$c$lazy$bottom;a._removeUpdater("name");a.name="bottom";a.completed();
return a});z.None=0;P.None=0;z.Hidden=1;P.Hidden=1;z.Dotted=2;P.Dotted=2;z.Dashed=3;P.Dashed=3;z.Solid=4;P.Solid=4;z.Double=5;P.Double=5;z.Groove=6;P.Groove=6;z.Ridge=7;P.Ridge=7;z.Inset=8;P.Inset=8;z.Outset=9;P.Outset=9;e.addProperty(z,"enum","style",P.Solid);z.Inner=0;P.Inner=0;z.Outer=1;P.Outer=1;z.Center=2;P.Center=2;e.addProperty(z,"enum","type");d._protoOnChanged(z,"color",function(a){a=d.Color.normalize(this.color);this.parent.style("border-color",a)});d._protoOnChanged(z,"width",function(a){var b=
this.parent;b.style("border-width",a);switch(this.type){case this.Inner:b._borderXAdjust=0;b._borderYAdjust=0;b._borderInnerWidthAdjust=-2*a;b._borderInnerHeightAdjust=-2*a;b._setSizeAdjust();break;case this.Outer:b._borderXAdjust=-a;b._borderYAdjust=-a;b._borderWidthAdjust=0;b._borderHeightAdjust=0;b._setSizeAdjust();break;case this.Center:b._borderXAdjust=-a/2,b._borderYAdjust=-a/2,b._borderWidthAdjust=-a,b._borderHeightAdjust=-a,b._setSizeAdjust()}});d._protoOnChanged(z,"type",function(a){switch(a){case this.Inner:var b=
"border-box";break;case this.Outer:case this.Center:b="content-box"}this.parent.style("box-sizing",b)});d._protoOnChanged(z,"style",function(a){switch(a){case this.None:var b="none";break;case this.Hidden:b="hidden";break;case this.Dotted:b="dotted";break;case this.Dashed:b="dashed";break;case this.Solid:b="solid";break;case this.Double:b="double";break;case this.Groove:b="groove";break;case this.Ridge:b="ridge";break;case this.Inset:b="inset";break;case this.Outset:b="outset"}this.parent.style("border-style",
b)});z.$c=function(a){pb.$c.call(this,a.$b={})};z.$s=function(a){pb.$s.call(this,a.$b);delete a.$b;this.completed()};var Nc=d.Object,Pa=Nc.prototype,Oc=d.Timer=function(a,b){Nc.apply(this,arguments);this._trigger=this._context.wrapNativeCallback(this.triggered.bind(this))},L=Oc.prototype=Object.create(Pa);L.constructor=Oc;L.componentName="core.Timer";L.triggered=d.createSignal("triggered");e.addProperty(L,"int","interval",1E3);e.addProperty(L,"bool","repeat");e.addProperty(L,"bool","running");e.addProperty(L,
"bool","triggeredOnStart");L._restart=function(){this._timeout&&(clearTimeout(this._timeout),this._timeout=void 0);this._interval&&(clearTimeout(this._interval),this._interval=void 0);this.running&&(this.repeat?this._interval=setInterval(this._trigger,this.interval):this._timeout=setTimeout(this._trigger,this.interval))};L.__complete=function(){Pa.__complete.call(this);this.running&&this.triggeredOnStart&&this.triggered()};L.stop=function(){this.running=!1};L.start=function(){this.running=!0};L.restart=
function(){this.stop();this.start()};d._protoOnChanged(L,"running",function(a){this._restart();a&&this.triggeredOnStart&&(this._triggered=!1,this.triggered())});l=function(a){this._restart()};d._protoOnChanged(L,"interval",l);d._protoOnChanged(L,"repeat",l);d._protoOn(L,"triggered",function(){this.repeat||this.triggeredOnStart&&!this._triggered||(this.running=!1);this._triggered=!0});L.$c=function(a){Pa.$c.call(this,a.$b={})};L.$s=function(a){Pa.$s.call(this,a.$b);delete a.$b;this.completed()};var Pc=
F.BaseActivity,qb=Pc.prototype,Qc=F.Activity=function(a,b){Pc.apply(this,arguments)},ua=Qc.prototype=Object.create(qb);ua.constructor=Qc;ua.componentName="controls.core.Activity";ua.getActivity=function(){return this};ua.stop=function(){this.active=!1;this.stopped()};ua.start=function(){this.active=!0;this.started()};ua.$c=function(a){qb.$c.call(this,a.$b={})};ua.$s=function(a){qb.$s.call(this,a.$b);delete a.$b;this.completed()};var Rc=F.Activity,rb=Rc.prototype,Sc=za.MosaicPage=function(a,b){Rc.apply(this,
arguments)},Ca=Sc.prototype=Object.create(rb);Ca.constructor=Sc;Ca.componentName="src.MosaicPage";e.addProperty(Ca,"int","delegateRadius");Ca.init=function(){var a=this._get("anotherApi",!0),b=this._get("mosaicGrid",!0);this._get("api",!0);a.getMain(function(a){b.fill(a.element.collectionItems.items,function(a){if(a.element.basicCovers.items&&0<a.element.basicCovers.items.length){var b="",c=a.element.trailers.items,f;for(f in c)if(0<=c[f].media.mimeType.indexOf("mp4")){b=c[f].url;break}return{video:b,
preview:a.element.basicCovers.items[0].url,title:a.element.name}}return null})},function(a){log("Failed to get content",a)})};Ca.$c=function(a){rb.$c.call(this,a.$b={});var b=new I.Mosaic(this);a._this$child0=b;b.$c(a.$c$_this$child0={});var c=new I.NestedVideo(b);a._this_child0$highlight=c;c.$c(a.$c$_this_child0$highlight={});var f=new d.ClickMixin(c);a._this_child0_highlight$child0=f;f.$c(a.$c$_this_child0_highlight$child0={});c.addChild(f);b.highlight=c;b._setId("mosaicGrid");this.addChild(b)};
Ca.$s=function(a){var b=this;rb.$s.call(this,a.$b);delete a.$b;b._replaceUpdater("delegateRadius",function(){b.delegateRadius=10*b._context.virtualScale},[b._context,"virtualScale"]);b._removeUpdater("name");b.name="mosaic";b.anchors._removeUpdater("fill");b.anchors.fill=b.parent;var c=a._this$child0;c.$s(a.$c$_this$child0);delete a.$c$_this$child0;c._removeUpdater("keyProcessDelay");c.keyProcessDelay=300;c._replaceUpdater("delegateRadius",function(){c.delegateRadius=c.parent.delegateRadius},[c.parent,
"delegateRadius"]);var f=a._this_child0$highlight;f.$s(a.$c$_this_child0$highlight);delete a.$c$_this_child0$highlight;f._replaceUpdater("z",function(){f.z=f.display?1:0},[f,"display"]);f._replaceUpdater("radius",function(){f.radius=f.parent.delegateRadius},[f.parent,"delegateRadius"]);f.on("clicked",function(){var a=this._get("mosaicGrid",!0);a.play(a.currentIndex)}.bind(f));var h=a._this_child0_highlight$child0;h.$s(a.$c$_this_child0_highlight$child0);delete a.$c$_this_child0_highlight$child0;h.completed();
a=new d.Animation(f);h={behavior__this_child0_highlight_on_y:a};a.$c(h.$c$behavior__this_child0_highlight_on_y={});a=h.behavior__this_child0_highlight_on_y;a.$s(h.$c$behavior__this_child0_highlight_on_y);delete h.$c$behavior__this_child0_highlight_on_y;a._removeUpdater("duration");a.duration=300;a.completed();f.setAnimation("y",a);a=new d.Animation(f);h={behavior__this_child0_highlight_on_x:a};a.$c(h.$c$behavior__this_child0_highlight_on_x={});a=h.behavior__this_child0_highlight_on_x;a.$s(h.$c$behavior__this_child0_highlight_on_x);
delete h.$c$behavior__this_child0_highlight_on_x;a._removeUpdater("duration");a.duration=300;a.completed();f.setAnimation("x",a);a=new d.Animation(f);h={behavior__this_child0_highlight_on_height:a};a.$c(h.$c$behavior__this_child0_highlight_on_height={});a=h.behavior__this_child0_highlight_on_height;a.$s(h.$c$behavior__this_child0_highlight_on_height);delete h.$c$behavior__this_child0_highlight_on_height;a._removeUpdater("duration");a.duration=300;a.completed();f.setAnimation("height",a);a=new d.Animation(f);
h={behavior__this_child0_highlight_on_width:a};a.$c(h.$c$behavior__this_child0_highlight_on_width={});a=h.behavior__this_child0_highlight_on_width;a.$s(h.$c$behavior__this_child0_highlight_on_width);delete h.$c$behavior__this_child0_highlight_on_width;a._removeUpdater("duration");a.duration=300;a.completed();f.setAnimation("width",a);f.completed();c._replaceUpdater("height",function(){c.height=.95*c.parent.height},[c.parent,"height"]);c._replaceUpdater("width",function(){c.width=.9*c.parent.width},
[c.parent,"width"]);c._removeUpdater("animationDuration");c.animationDuration=300;c._replaceUpdater("y",function(){c.y=.05*c.parent.height},[c.parent,"height"]);c._replaceUpdater("x",function(){c.x=.05*c.parent.width},[c.parent,"width"]);c.focusIndex=function(a){a=this.model.get(a);this.highlight.showAndPlay(a.video)}.bind(c);c.on("itemFocused",function(a){this.focusIndex(a)}.bind(c));c.onChanged("currentIndex",function(a){this.highlight.hide()}.bind(c));c.onPressed("Back",function(a,b){this.focusIndex(this.currentIndex)}.bind(c));
c.completed();b.completed()};var Tc=d.Object,sb=Tc.prototype,Uc=d.Effects=function(a,b){Tc.apply(this,arguments)},G=Uc.prototype=Object.create(sb);G.constructor=Uc;G.componentName="core.Effects";e.addProperty(G,"real","blur");e.addProperty(G,"real","grayscale");e.addProperty(G,"real","sepia");e.addProperty(G,"real","brightness");e.addProperty(G,"real","contrast");e.addProperty(G,"real","hueRotate");e.addProperty(G,"real","invert");e.addProperty(G,"real","saturate");e.addLazyProperty(G,"shadow",function(a,
b){a=new d.Shadow(a,b);b={lazy$shadow:a};a.$c(b.$c$lazy$shadow={});a=b.lazy$shadow;a.$s(b.$c$lazy$shadow);delete b.$c$lazy$shadow;a.completed();return a});G._getFilterStyle=function(){var a=[];this._addStyle(a,"blur","blur","px");this._addStyle(a,"grayscale");this._addStyle(a,"sepia");this._addStyle(a,"brightness");this._addStyle(a,"contrast");this._addStyle(a,"hueRotate","hue-rotate","deg");this._addStyle(a,"invert");this._addStyle(a,"saturate");return a};G._addStyle=function(a,b,c,f){var d=this[b];
d&&a.push((c||b)+"("+d+(f||"")+") ")};G._updateStyle=function(a){var b=this._getFilterStyle().join(""),c=this.parent,f={};f["-webkit-filter"]=b;f.filter=b;!this.shadow||this.shadow._empty()&&!a||(f["box-shadow"]=this.shadow._getFilterStyle());c.style(f)};l=function(a){this._updateStyle()};d._protoOnChanged(G,"saturate",l);d._protoOnChanged(G,"brightness",l);d._protoOnChanged(G,"grayscale",l);d._protoOnChanged(G,"sepia",l);d._protoOnChanged(G,"invert",l);d._protoOnChanged(G,"hueRotate",l);d._protoOnChanged(G,
"contrast",l);d._protoOnChanged(G,"blur",l);G.$c=function(a){sb.$c.call(this,a.$b={})};G.$s=function(a){sb.$s.call(this,a.$b);delete a.$b;this.completed()};var Vc=d.Item,tb=Vc.prototype,Wc=d.Context=function(a,b){Vc.apply(this,arguments);this.options=arguments[2];this.l10n=this.options.l10n||{};this._local.context=this;this._context=this;this._processingActions=this._completed=this._started=!1;this._delayedActions=[];this._completedObjects=[];this._stylesRegistered={};this._asyncInvoker=d.safeCall(this,
[],function(a){log("async action failed:",a,a.stack)});this.backend=g._backend();this._init()},u=Wc.prototype=Object.create(tb);u.constructor=Wc;u.componentName="core.Context";u.message=d.createSignal("message");e.addProperty(u,"int","scrollY");e.addProperty(u,"int","keyProcessDelay");e.addProperty(u,"bool","fullscreen");e.addProperty(u,"string","language");e.addProperty(u,"System","system");e.addProperty(u,"Location","location");e.addProperty(u,"Stylesheet","stylesheet");e.addProperty(u,"string",
"buildIdentifier");e.addProperty(u,"int","virtualWidth",$manifest$virtual$width);e.addProperty(u,"int","virtualHeight",$manifest$virtual$height);e.addProperty(u,"real","virtualScale");u._processActions=function(){if(this._started&&!this._processingActions){this._processingActions=!0;for(var a=this._asyncInvoker;this._delayedActions.length||this._completedObjects.length;){var b=this._delayedActions;this._delayedActions=[];for(var c=0,f=b.length;c<f;++c)a(b[c]);b=this._completedObjects;this._completedObjects=
[];c=0;for(f=b.length;c<f;++c){var d=b[c];try{d.__complete()}catch(V){log("onCompleted failed",V,V.stack)}}}this._processingActions=!1;this.backend.tick(this)}};u._init=function(){log("Context: initializing...");new this.backend.init(this)};u._run=function(){log("Context: signalling layout");this.visibleInView=!0;this.newBoundingBox();log("Context: calling completed()");this._started=!0;this._processActions();this._completed=!0};u.init=function(){this.__init();this.backend.initSystem(this.system)};
u.run=function(){this.backend.run(this,this._run.bind(this))};u.scheduleComplete=function(){this._get("context",!0);this.delayedAction("context:completed",this,this._processActions)};u.tr=function(){return this.qsTr.apply(this,arguments)};u.scheduleAction=function(a){this._delayedActions.push(a)};u.wrapNativeCallback=function(a){var b=this;return function(){try{var c=a.apply(this,arguments);b._processActions();return c}catch(f){throw b._processActions(),f;}}};u.start=function(a){this.children.push(a);
a.__init();log("Context: created instance");return a};u.registerStyle=function(a,b,c){b=(c=this.mangleClass(c))?b+"."+c:b;b in this._stylesRegistered||(a.registerStyle(this.stylesheet,b),this._stylesRegistered[b]=!0)};u.processKey=function(a,b){for(var c=e.forEach(this,d.Item.prototype._enqueueNextChildInFocusChain,[]),f=c.length,h=0;h<f;++h)if(c[h]._processKey(a,b))return!0;return!1};u.updateL10n=function(a,b){this.l10n[a]=b;this.__properties.language.callOnChanged(this,"language",this.language,
this.language)};u.mangleClass=function(a){return $manifest$html5$prefix+a};u.delayedAction=function(a,b,c,f){if(b._registerDelayedAction(a)){var d=function(){b._cancelDelayedAction(a);c.call(b)};0<f?setTimeout(this.wrapNativeCallback(d),f):0===f?this.backend.requestAnimationFrame(this.wrapNativeCallback(d)):this.scheduleAction(d)}};u.__onCompleted=function(a){this._completedObjects.push(a)};u.createElement=function(a,b){return this.backend.createElement(this,a,b)};u.qsTr=function(a){var b=arguments,
c=(this.l10n[this.language]||{})[a]||{},f;for(f in c){a=c[f];break}return a.replace(/%(\d+)/,function(a,c){return b[c]})};d._protoOnChanged(u,"fullscreen",function(a){a?this.backend.enterFullscreenMode(this.element):this.backend.exitFullscreenMode()});u.$c=function(a){tb.$c.call(this,a.$b={});var b=new Sa.Stylesheet(this);a._this$stylesheet=b;b.$c(a.$c$_this$stylesheet={});this.stylesheet=b;b=new d.System(this);a._this$system=b;b.$c(a.$c$_this$system={});this.system=b;b=new d.Location(this);a._this$location=
b;b.$c(a.$c$_this$location={});this.location=b};u.$s=function(a){var b=this;tb.$s.call(this,a.$b);delete a.$b;var c=a._this$stylesheet;c.$s(a.$c$_this$stylesheet);delete a.$c$_this$stylesheet;c.completed();b._replaceUpdater("virtualScale",function(){b.virtualScale=Math.min((b.system.resolutionWidth||b.width)/b.virtualWidth,(b.system.resolutionHeight||b.height)/b.virtualHeight)},[b.system,"resolutionWidth",b,"virtualHeight",b,"height",b,"virtualWidth",b,"width",b.system,"resolutionHeight"]);c=a._this$system;
c.$s(a.$c$_this$system);delete a.$c$_this$system;c.completed();b._removeUpdater("visibleInView");b.visibleInView=!1;c=a._this$location;c.$s(a.$c$_this$location);delete a.$c$_this$location;c.completed();b.completed()};var Xc=d.Object,ub=Xc.prototype,Yc=d.Transform=function(a,b){Xc.apply(this,arguments);this._transforms=new d.transform.Transform},y=Yc.prototype=Object.create(ub);y.constructor=Yc;y.componentName="core.Transform";e.addProperty(y,"int","perspective");e.addProperty(y,"int","translateX");
e.addProperty(y,"int","translateY");e.addProperty(y,"int","translateZ");e.addProperty(y,"real","rotateX");e.addProperty(y,"real","rotateY");e.addProperty(y,"real","rotateZ");e.addProperty(y,"real","rotate");e.addProperty(y,"real","scaleX");e.addProperty(y,"real","scaleY");e.addProperty(y,"real","skewX");e.addProperty(y,"real","skewY");y._updateTransform=function(){this.parent.style("transform",this._transforms)};y._animateAll=function(a){var b=this;"perspective translateX translateY translateZ rotateX rotateY rotateZ rotate scaleX scaleY skewX skewY".split(" ").forEach(function(c){var f=
new d.Animation(b);d.core.createObject(f);f.delay=a.delay;f.duration=a.duration;f.cssTransition=!1;f.easing=a.easing;b.setAnimation(c,f)});this._context._processActions()};d._protoOnChanged(y,"perspective",function(a){this._transforms.add("perspective",a,"px");this._updateTransform()});d._protoOnChanged(y,"rotate",function(a){this._transforms.add("rotate",a,"deg");this._updateTransform()});d._protoOnChanged(y,"rotateX",function(a){this._transforms.add("rotateX",a,"deg");this._updateTransform()});
d._protoOnChanged(y,"rotateY",function(a){this._transforms.add("rotateY",a,"deg");this._updateTransform()});d._protoOnChanged(y,"rotateZ",function(a){this._transforms.add("rotateZ",a,"deg");this._updateTransform()});d._protoOnChanged(y,"scaleX",function(a){this._transforms.add("scaleX",a);this._updateTransform()});d._protoOnChanged(y,"scaleY",function(a){this._transforms.add("scaleY",a);this._updateTransform()});d._protoOnChanged(y,"skewX",function(a){this._transforms.add("skewX",a,"deg");this._updateTransform()});
d._protoOnChanged(y,"skewY",function(a){this._transforms.add("skewY",a,"deg");this._updateTransform()});d._protoOnChanged(y,"translateX",function(a){this._transforms.add("translateX",a,"px");this._updateTransform()});d._protoOnChanged(y,"translateY",function(a){this._transforms.add("translateY",a,"px");this._updateTransform()});d._protoOnChanged(y,"translateZ",function(a){this._transforms.add("translateZ",a,"px");this._updateTransform()});y.$c=function(a){ub.$c.call(this,a.$b={})};y.$s=function(a){ub.$s.call(this,
a.$b);delete a.$b;this.completed()};var Zc=d.Object,vb=Zc.prototype,$c=d.BorderSide=function(a,b){Zc.apply(this,arguments)},da=$c.prototype=Object.create(vb);da.constructor=$c;da.componentName="core.BorderSide";e.addProperty(da,"string","name");e.addProperty(da,"int","width");e.addProperty(da,"color","color");e.addProperty(da,"int","style");da._updateStyle=function(){if(this.parent&&this.parent.parent&&this.name){switch(this.style){case g.core.Border.prototype.None:var a="none";break;case g.core.Border.prototype.Hidden:a=
"hidden";break;case g.core.Border.prototype.Dotted:a="dotted";break;case g.core.Border.prototype.Dashed:a="dashed";break;case g.core.Border.prototype.Solid:a="solid";break;case g.core.Border.prototype.Double:a="double";break;case g.core.Border.prototype.Groove:a="groove";break;case g.core.Border.prototype.Ridge:a="ridge";break;case g.core.Border.prototype.Inset:a="inset";break;case g.core.Border.prototype.Outset:a="outset"}a=this.width+"px "+a+" "+d.Color.normalize(this.color);this.parent.parent.style("border-"+
this.name,a)}};l=function(a){this._updateStyle()};d._protoOnChanged(da,"width",l);d._protoOnChanged(da,"color",l);d._protoOnChanged(da,"style",l);da.$c=function(a){vb.$c.call(this,a.$b={})};da.$s=function(a){var b=this;vb.$s.call(this,a.$b);delete a.$b;b._replaceUpdater("color",function(){b.color=b.parent.color},[b.parent,"color"]);b._replaceUpdater("width",function(){b.width=b.parent.width},[b.parent,"width"]);b._replaceUpdater("style",function(){b.style=b.parent.style},[b.parent,"style"]);b.completed()};
var ad=d.Object,wb=ad.prototype,bd=d.Model=function(a,b){ad.apply(this,arguments)},ka=bd.prototype=Object.create(wb);ka.constructor=bd;ka.componentName="core.Model";ka.reset=d.createSignal("reset");ka.rowsChanged=d.createSignal("rowsChanged");ka.rowsRemoved=d.createSignal("rowsRemoved");ka.rowsInserted=d.createSignal("rowsInserted");e.addProperty(ka,"int","count");ka.$c=function(a){wb.$c.call(this,a.$b={})};ka.$s=function(a){wb.$s.call(this,a.$b);delete a.$b;this.completed()};var cd=d.Model,xb=cd.prototype,
dd=d.ListModel=function(a,b){cd.apply(this,arguments);this._rows=[]},Q=dd.prototype=Object.create(xb);Q.constructor=dd;Q.componentName="core.ListModel";e.addProperty(Q,"array","data");Q.clear=function(){this.assign([])};Q.forEach=function(a){return this._rows.forEach(a)};Q.addChild=function(a){this.append(a)};Q.get=function(a){if(0>a||a>=this._rows.length)throw Error("index "+a+" out of bounds ("+this._rows.length+")");var b=this._rows[a];if(!(b instanceof Object))throw Error("row is non-object");
b.index=a;return b};Q.remove=function(a,b){if(0>a||a>=this._rows.length)throw Error("index "+a+" out of bounds");void 0===b&&(b=1);this._rows.splice(a,b);this.count=this._rows.length;this.rowsRemoved(a,a+b)};Q.setProperty=function(a,b,c){if(0>a||a>=this._rows.length)throw Error("index "+a+" out of bounds ("+this._rows.length+")");var f=this._rows[a];if(!(f instanceof Object))throw Error("row is non-object, invalid index? ("+a+")");f[b]!==c&&(f[b]=c,this.rowsChanged(a,a+1))};Q.insert=function(a,b){if(0>
a||a>this._rows.length)throw Error("index "+a+" out of bounds ("+this._rows.length+")");this._rows.splice(a,0,b);this.count=this._rows.length;this.rowsInserted(a,a+1)};Q.set=function(a,b){if(0>a||a>=this._rows.length)throw Error("index "+a+" out of bounds ("+this._rows.length+")");if(!(b instanceof Object))throw Error("row is non-object");this._rows[a]=b;this.rowsChanged(a,a+1)};Q.append=function(a){var b=this._rows.length;Array.isArray(a)?(Array.prototype.push.apply(this._rows,a),this.count=this._rows.length,
this.rowsInserted(b,b+a.length)):(this._rows.push(a),this.count=this._rows.length,this.rowsInserted(b,b+1))};Q.assign=function(a){this._rows=a;this.count=this._rows.length;this.reset()};d._protoOnChanged(Q,"data",function(a){this.assign(a)});Q.$c=function(a){xb.$c.call(this,a.$b={})};Q.$s=function(a){xb.$s.call(this,a.$b);delete a.$b;this.completed()};var ed=d.Object,yb=ed.prototype,fd=d.Location=function(a,b){ed.apply(this,arguments);var c=d.__locationBackend;if(!c)throw Error("no backend found");
this.impl=c().createLocation(this)},R=fd.prototype=Object.create(yb);R.constructor=fd;R.componentName="core.Location";e.addProperty(R,"string","hash");e.addProperty(R,"string","host");e.addProperty(R,"string","href");e.addProperty(R,"string","port");e.addProperty(R,"string","origin");e.addProperty(R,"string","hostname");e.addProperty(R,"string","pathname");e.addProperty(R,"string","protocol");e.addProperty(R,"string","search");e.addProperty(R,"Object","state");R.changeHref=function(a){this.impl.changeHref(a)};
R.pushState=function(a,b,c){this.impl.pushState(a,b,c)};R.$c=function(a){yb.$c.call(this,a.$b={})};R.$s=function(a){yb.$s.call(this,a.$b);delete a.$b;this.completed()};var gd=d.Item,zb=gd.prototype,r=d.Image=function(a,b){gd.apply(this,arguments);this._context.backend.initImage(this);this._scheduleLoad()},t=r.prototype=Object.create(zb);t.constructor=r;t.componentName="core.Image";e.addProperty(t,"int","paintedWidth");e.addProperty(t,"int","paintedHeight");e.addProperty(t,"int","sourceWidth");e.addProperty(t,
"int","sourceHeight");e.addProperty(t,"string","source");e.addProperty(t,"bool","smooth",!0);e.addProperty(t,"bool","preload",!1);t.Null=0;r.Null=0;t.Ready=1;r.Ready=1;t.Loading=2;r.Loading=2;t.Error=3;r.Error=3;e.addProperty(t,"enum","status");t.AlignHCenter=0;r.AlignHCenter=0;t.AlignLeft=1;r.AlignLeft=1;t.AlignRight=2;r.AlignRight=2;e.addProperty(t,"enum","horizontalAlignment");t.Stretch=0;r.Stretch=0;t.PreserveAspectFit=1;r.PreserveAspectFit=1;t.PreserveAspectCrop=2;r.PreserveAspectCrop=2;t.Tile=
3;r.Tile=3;t.TileVertically=4;r.TileVertically=4;t.TileHorizontally=5;r.TileHorizontally=5;t.Pad=6;r.Pad=6;e.addProperty(t,"enum","fillMode");t.AlignVCenter=0;r.AlignVCenter=0;t.AlignTop=1;r.AlignTop=1;t.AlignBottom=2;r.AlignBottom=2;e.addProperty(t,"enum","verticalAlignment");t._scheduleLoad=function(){(this.preload||this.recursiveVisible)&&this._context.delayedAction("image.load",this,this._load)};t._load=function(){if(this.status!==this.Ready&&(this.preload||this.recursiveVisible))if(this.source){this.status=
this.Loading;var a=this._context,b=this._imageLoaded.bind(this);a.backend.loadImage(this,a.wrapNativeCallback(b))}else this._resetImage()};t._onError=function(){this.status=this.Error};t._resetImage=function(){this.style("background-image","")};t.getClass=function(){return"core-image"};t._imageLoaded=function(a){if(a){var b={"background-image":'url("'+this.source+'")'},c=a.width,f=a.height;this.sourceWidth=c;this.sourceHeight=f;this.fillMode!==r.PreserveAspectFit&&(this.paintedWidth=this.width,this.paintedHeight=
this.height);switch(this.horizontalAlignment){case r.AlignHCenter:b["background-position-x"]="center";break;case r.AlignLeft:b["background-position-x"]="left";break;case r.AlignRight:b["background-position-x"]="right"}switch(this.verticalAlignment){case r.AlignVCenter:b["background-position-y"]="center";break;case r.AlignTop:b["background-position-y"]="top";break;case r.AlignBottom:b["background-position-y"]="bottom"}switch(this.fillMode){case r.Stretch:b["background-repeat"]="no-repeat";b["background-size"]=
"100% 100%";break;case r.TileVertically:b["background-repeat"]="repeat-y";b["background-size"]="100% "+f+"px";break;case r.TileHorizontally:b["background-repeat"]="repeat-x";b["background-size"]=c+"px 100%";break;case r.Tile:b["background-repeat"]="repeat-y repeat-x";b["background-size"]="auto";break;case r.PreserveAspectCrop:b["background-repeat"]="no-repeat";b["background-size"]="cover";break;case r.Pad:b["background-repeat"]="no-repeat";b["background-position"]="0% 0%";b["background-size"]="auto";
break;case r.PreserveAspectFit:b["background-repeat"]="no-repeat";b["background-size"]="contain";a=this.width;var d=this.height,e=0;c/=f;a&&d&&(e=a/d);c>e&&a?(this.paintedWidth=a,this.paintedHeight=a/c):(this.paintedHeight=d,this.paintedWidth=d*c)}b["image-rendering"]=this.smooth?"auto":"pixelated";this.style(b);this.status=r.Ready}else this.status=r.Error};l=function(a){this._scheduleLoad()};d._protoOnChanged(t,"width",l);d._protoOnChanged(t,"preload",l);d._protoOnChanged(t,"height",l);d._protoOnChanged(t,
"recursiveVisible",l);d._protoOnChanged(t,"fillMode",l);d._protoOnChanged(t,"source",function(a){this.status=this.Null;this._scheduleLoad()});t.$c=function(a){zb.$c.call(this,a.$b={})};t.$s=function(a){var b=this;zb.$s.call(this,a.$b);delete a.$b;b._replaceUpdater("width",function(){b.width=b.sourceWidth},[b,"sourceWidth"]);b._replaceUpdater("height",function(){b.height=b.sourceHeight},[b,"sourceHeight"]);b.completed()};var hd=d.Object,Ab=hd.prototype,id=d.Anchors=function(a,b){hd.apply(this,arguments);
this._items=[];this._grabY=this._grabX=!1},x=id.prototype=Object.create(Ab);x.constructor=id;x.componentName="core.Anchors";e.addProperty(x,"AnchorLine","bottom");e.addProperty(x,"AnchorLine","verticalCenter");e.addProperty(x,"AnchorLine","top");e.addProperty(x,"AnchorLine","left");e.addProperty(x,"AnchorLine","horizontalCenter");e.addProperty(x,"AnchorLine","right");e.addProperty(x,"Item","fill");e.addProperty(x,"Item","centerIn");e.addProperty(x,"int","margins");e.addProperty(x,"int","bottomMargin");
e.addProperty(x,"int","topMargin");e.addProperty(x,"int","leftMargin");e.addProperty(x,"int","rightMargin");x._scheduleUpdate=function(){this._context.delayedAction("update-anchors",this,this._updateAll)};x._updateAll=function(){var a=this.parent;if(null!==a){var b=a.parent.toScreen(),c=b[0];b=b[1];var f=this.fill,d=this._getAnchor("left")||(f?f.left:null),e=this._getAnchor("right")||(f?f.right:null),g=this._getAnchor("top")||(f?f.top:null);f=this._getAnchor("bottom")||(f?f.bottom:null);var l=this.centerIn,
k=this._getAnchor("horizontalCenter")||(l?l.horizontalCenter:null),n=this._getAnchor("verticalCenter")||(l?l.verticalCenter:null),m=this.leftMargin||this.margins,q=this.rightMargin||this.margins;l=this.topMargin||this.margins;var r=this.bottomMargin||this.margins,t=[],u=[],p=function(a){var b=a[0];a=a[1];var c=t.indexOf(b);0>c?(c=b.toScreen(),t.push(b),u.push(c)):c=u[c];return c[a]};d&&e?(d=p(d),e=p(e),a.x=d+m-c-a.viewX,a.width=e-d-q-m):d&&k?(d=p(d),k=p(k),a.x=d+m-c-a.viewX,a.width=2*(k-d)-q-m):k&&
e?(k=p(k),e=p(e),a.width=2*(e-k)-q-m,a.x=k-(a.width+m-q)/2-c-a.viewX):d?(d=p(d),a.x=d+m-c-a.viewX):e?(e=p(e),a.x=e-c-q-a.width-a.viewX):k?(k=p(k),a.x=k-(a.width+m-q)/2-c-a.viewX):this._grabX&&(a.x=m);g&&f?(c=p(g),f=p(f),a.y=c+l-b-a.viewY,a.height=f-c-r-l):g&&n?(c=p(g),g=p(n),a.y=c+l-b-a.viewY,a.height=2*(g-c)-r-l):n&&f?(g=p(n),f=p(f),a.height=2*(f-g)-r-l,a.y=g-(a.height+l-r)/2-b-a.viewY):g?(c=p(g),a.y=c+l-b-a.viewY):f?(f=p(f),a.y=f-b-r-a.height-a.viewY):n?(g=p(n),a.y=g-(a.height+l-r)/2-b-a.viewY):
this._grabY&&(a.y=l)}};x._grab=function(a,b){"x"===b&&(this._grabX=!0);"y"===b&&(this._grabY=!0);a._removeUpdater(b)};x._getAnchor=function(a){var b=this[a];return b?Array.isArray(b)?b:b[a]:null};x._subscribe=function(a){var b=this._items;0>b.indexOf(a)&&(b.push(a),this.connectOn(a,"newBoundingBox",this._scheduleUpdate.bind(this)))};d._protoOnChanged(x,"fill",function(a){this._scheduleUpdate();if(null!==a){var b=this.parent;this._grab(b,"x");this._grab(b,"width");this._grab(b,"y");this._grab(b,"height");
this._subscribe(a)}});d._protoOnChanged(x,"centerIn",function(a){this._scheduleUpdate();if(null!==a){var b=this.parent;this._grab(b,"x");this._grab(b,"y");this._subscribe(a);this._subscribe(b)}});d._protoOnChanged(x,"bottom",function(a){this._scheduleUpdate();a=this._getAnchor("bottom");if(null!==a){var b=this.parent;this._grab(b,"y");(this.top||this.verticalCenter)&&this._grab(b,"height");this._subscribe(b);this._subscribe(a[0])}});d._protoOnChanged(x,"horizontalCenter",function(a){this._scheduleUpdate();
a=this._getAnchor("horizontalCenter");if(null!==a){var b=this.parent;this._grab(b,"x");(this.left||this.right)&&this._grab(b,"width");this._subscribe(b);this._subscribe(a[0])}});d._protoOnChanged(x,"left",function(a){this._scheduleUpdate();a=this._getAnchor("left");if(null!==a){var b=this.parent;this._grab(b,"x");if(this.right||this.horizontalCenter)this._grab(b,"width"),this._subscribe(b);this._subscribe(a[0])}});d._protoOnChanged(x,"right",function(a){this._scheduleUpdate();a=this._getAnchor("right");
if(null!==a){var b=this.parent;this._grab(b,"x");(this.left||this.horizontalCenter)&&this._grab(b,"width");this._subscribe(b);this._subscribe(a[0])}});d._protoOnChanged(x,"top",function(a){this._scheduleUpdate();a=this._getAnchor("top");if(null!==a){var b=this.parent;this._grab(b,"y");if(this.bottom||this.verticalCenter)this._grab(b,"height"),this._subscribe(b);this._subscribe(a[0])}});d._protoOnChanged(x,"verticalCenter",function(a){this._scheduleUpdate();a=this._getAnchor("verticalCenter");if(null!==
a){var b=this.parent;this._grab(b,"y");(this.top||this.bottom)&&this._grab(b,"height");this._subscribe(b);this._subscribe(a[0])}});l=function(a){this.parent.anchorsMarginsUpdated();this._scheduleUpdate()};d._protoOnChanged(x,"bottomMargin",l);d._protoOnChanged(x,"leftMargin",l);d._protoOnChanged(x,"topMargin",l);d._protoOnChanged(x,"rightMargin",l);d._protoOnChanged(x,"margin",l);x.$c=function(a){Ab.$c.call(this,a.$b={})};x.$s=function(a){Ab.$s.call(this,a.$b);delete a.$b;this.completed()};var jd=
d.Object,Qa=jd.prototype,va=d.Gradient=function(a,b){jd.apply(this,arguments);this.stops=[]},T=va.prototype=Object.create(Qa);T.constructor=va;T.componentName="core.Gradient";e.addProperty(T,"real","angle");T.Vertical=0;va.Vertical=0;T.Horizontal=1;va.Horizontal=1;T.BottomRight=2;va.BottomRight=2;T.TopRight=3;va.TopRight=3;T.Custom=4;va.Custom=4;e.addProperty(T,"enum","orientation");T._updateStyle=function(){var a=this._getDeclaration();a&&this.parent.style({"background-color":"",background:a})};
T._getDeclaration=function(){var a=this.stops,b=a.length;if(!(2>b)){switch(this.orientation){default:case this.Vertical:var c="to bottom";break;case this.Horizontal:c="to left";break;case this.BottomRight:c="to bottom right";break;case this.TopRight:c="to top right";break;case this.Custom:c=this.angle+"deg"}c=new d.gradient.Gradient(c);for(var f=0;f<b;++f)c.add(a[f]._getDeclaration());return c}};T.__complete=function(){Qa.__complete.call(this);this._updateStyle()};T.addChild=function(a){d.Object.prototype.addChild.apply(this,
arguments);a instanceof d.GradientStop&&(this.stops.push(a),this.stops.sort(function(a,c){return a.position>c.position}),this._updateStyle())};T.$c=function(a){Qa.$c.call(this,a.$b={})};T.$s=function(a){Qa.$s.call(this,a.$b);delete a.$b;this.completed()};var kd=d.Object,Bb=kd.prototype,ld=d.ClickMixin=function(a,b){kd.apply(this,arguments);this.element=this.parent.element;this._bindClick(this.enabled)},wa=ld.prototype=Object.create(Bb);wa.constructor=ld;wa.componentName="core.ClickMixin";e.addProperty(wa,
"bool","enabled",!0);wa._bindClick=function(a){a&&!this._cmClickBinder&&(this._cmClickBinder=new d.EventBinder(this.element),this._cmClickBinder.on("click",d.createSignalForwarder(this.parent,"clicked").bind(this)));this._cmClickBinder&&this._cmClickBinder.enable(a)};d._protoOnChanged(wa,"enabled",function(a){this._bindClick(a)});wa.$c=function(a){Bb.$c.call(this,a.$b={})};wa.$s=function(a){Bb.$s.call(this,a.$b);delete a.$b;this.completed()};var md=ya.Rest,Cb=md.prototype,nd=za.AnotherApi=function(a,
b){md.apply(this,arguments)},Ra=nd.prototype=Object.create(Cb);Ra.constructor=nd;Ra.componentName="src.AnotherApi";Ra.$c=function(a){Cb.$c.call(this,a.$b={});var b=new ya.Method(this);a._this$child0=b;b.$c(a.$c$_this$child0={});this.addChild(b)};Ra.$s=function(a){Cb.$s.call(this,a.$b);delete a.$b;this._removeUpdater("baseUrl");this.baseUrl="https://ctx.playfamily.ru";var b=a._this$child0;b.$s(a.$c$_this$child0);delete a.$c$_this$child0;b._removeUpdater("path");b.path="/screenapi/v1/noauth/collection/web/1?elementAlias=topfilms&elementType=COLLECTION&limit=16&offset=0&withInnerCollections=true";
b._removeUpdater("name");b.name="getMain";b.completed();this.completed()};var od=d.EventEmitter,Db=od.prototype,pd=d.RAIIEventEmitter=function(a,b){od.apply(this,arguments);this._onListener={}},xa=pd.prototype=Object.create(Db);xa.constructor=pd;xa.componentName="core.RAIIEventEmitter";xa.removeAllListeners=function(a){d.EventEmitter.prototype.removeAllListeners.call(this,a);if(a in this._onListener)this._onListener[a][1](a);else if(""in this._onListener)this._onListener[""][1](a)};xa.on=function(a,
b){if(!(a in this._eventHandlers)){if(a in this._onListener)this._onListener[a][0](a);else if(""in this._onListener)this._onListener[""][0](a);if(this._eventHandlers[a])throw Error("listener callback added event handler");}d.EventEmitter.prototype.on.call(this,a,b)};xa.onListener=function(a,b,c){this._onListener[a]=[b,c]};xa.$c=function(a){Db.$c.call(this,a.$b={})};xa.$s=function(a){Db.$s.call(this,a.$b);delete a.$b;this.completed()};var qd=d.Object,Eb=qd.prototype,rd=Sa.Stylesheet=function(a,b){qd.apply(this,
arguments);var c=this._context,f=c.options,d=this.style=c.createElement("style");d.dom.type="text/css";this.prefix=f.prefix;f=f.id;var e=null===document.getElementById(c,f),l=window.Modernizr.prefixedCSS("user-select")+": none; ",k=g.core.os,n="android"===k||"androidttk"===k||"hisense"===k;d.setHtml("div#"+f+" { position: absolute; visibility: hidden; left: 0px; top: 0px; }"+("webOS"===k||n?this.mangleRule("div","{ "+l+" }"):"")+(n?this.mangleRule("div","{ -webkit-tap-highlight-color: rgba(255, 255, 255, 0); -webkit-focus-ring-color: rgba(255, 255, 255, 0); outline: none; }"):
"")+(e?"body { padding: 0; margin: 0; border: 0px; overflow: hidden; }":"")+this.mangleRule("video","{ position: absolute; }")+this.mangleRule("img","{ position: absolute; -webkit-touch-callout: none; "+l+" }"));c=g.html5.html.getElement(c,"head");c.append(d);c.updateStyle();this._addRule=g.html5.html.createAddRule(d.dom).bind(this);this._lastId=0},pa=rd.prototype=Object.create(Eb);pa.constructor=rd;pa.componentName="html5.Stylesheet";pa.allocateClass=function(a){var b=this.prefix;return(b?b:"")+
a+"-"+this._lastId++};pa.mangleSelector=function(a){var b=this.prefix;return b?a+"."+b+"core-item":a};pa.mangleRule=function(a,b){return this.mangleSelector(a)+" "+b+" "};pa.addRule=function(a,b){this._addRule(a,b)};pa.$c=function(a){Eb.$c.call(this,a.$b={})};pa.$s=function(a){Eb.$s.call(this,a.$b);delete a.$b;this.completed()};g.core.gradient=function(){var a={},b=function(a,b){this.color=d.Color.normalize(a);this.position=b},c=b.prototype;c.constructor=b;c.toString=function(){return this.color+
" "+Math.floor(100*this.position)+"%"};c=function(a){this.orientation=a;this.stops=[]};var f=c.prototype;f.constructor=c;f.add=function(a){this.stops.push(a)};f.toString=function(){return"linear-gradient("+this.orientation+","+this.stops.join()+")"};a.GradientStop=b;a.Gradient=c;return a}();g.core.model=function(){var a={},b=function(a,b){this.type=a;this.length=b};a.ModelUpdate=function(){this.count=0;this._reset()};a.ModelUpdate.prototype.constructor=a.ModelUpdate;a.ModelUpdate.prototype._reset=
function(){this._ranges=[new b(0,this.count)];this._updateIndex=this.count};a.ModelUpdate.prototype._setUpdateIndex=function(a){a<this._updateIndex&&(this._updateIndex=a)};a.ModelUpdate.prototype._find=function(a){var b=this._ranges,c;for(c=0;c<b.length;++c){var f=b[c];if(a<f.length)return{index:c,offset:a};0<f.length&&(a-=f.length)}if(0!=a)throw Error("invalid index "+a);return{index:c-1,offset:f.length}};a.ModelUpdate.prototype.reset=function(a){this.update(a,0,Math.min(a.count,this.count));this.count<
a.count?this.insert(a,this.count,a.count):this.remove(a,a.count,this.count)};a.ModelUpdate.prototype._merge=function(){for(var a=this._ranges,b=1;b<a.length;){var c=a[b-1],d=a[b];if(c.type===d.type)if(1===c.type&&0>c.length&&0<d.length){var e=Math.min(-c.length,d.length);c.type=2;d.length+=c.length;c.length=e;1<b&&--b}else c.length+=d.length,a.splice(b,1);else 1===c.type&&0===c.length?a.splice(b,1):++b}};a.ModelUpdate.prototype._split=function(a,c,d,e){var f=this._ranges;if(0===c)return f.splice(a,
0,new b(d,e)),a+1;var h=f[a],g=h.length-c;h.length=c;0!=g?f.splice(a+1,0,new b(d,e),new b(h.type,g)):f.splice(a+1,0,new b(d,e));return a+2};a.ModelUpdate.prototype.insert=function(a,b,c){if(!(b>=c)){this._setUpdateIndex(b);var d=this._ranges,f=c-b;this.count+=f;if(this.count!=a.count)throw Error("unbalanced insert "+this.count+" + ["+b+"-"+c+"], model reported "+a.count);a=this._find(b);d=d[a.index];0===d.length?(d.type=1,d.length+=f):0<=a.offset?this._split(a.index,a.offset,1,f):this._split(a.index+
1,0,1,f);this._merge()}};a.ModelUpdate.prototype.remove=function(a,b,c){if(!(b>=c)){this._setUpdateIndex(b);var d=this._ranges,f=c-b;this.count-=f;if(this.count!=a.count)throw Error("unbalanced remove "+this.count+" + ["+b+"-"+c+"], model reported "+a.count);b=this._find(b);a=d[b.index];if(1===a.type)a.length-=f;else for(b=this._split(b.index,b.offset,1,-f);0<f;)a=d[b],a.length<=f?(d.splice(b,1),f-=a.length):(a.length-=f,f=0);this._merge()}};a.ModelUpdate.prototype.update=function(a,c,d){if(!(c>=
d)){a=this._ranges;d-=c;var f=this._find(c);c=f.index;var e=a[c];if(0<f.offset&&(a.splice(c+1,0,new b(e.type,e.length-f.offset)),e.length=f.offset,++c,0===e.length))throw Error("invalid offset");for(;0<d;)switch(e=a[c],f=e.length,e.type){case 0:f>d?(e.length-=d,a.splice(c,0,new b(2,d))):e.type=2;d-=f;break;case 1:0<f&&(d-=f);++c;break;case 2:d-=f,++c}this._merge()}};a.ModelUpdate.prototype.clear=function(){this.count=0;this._reset()};a.ModelUpdate.prototype.apply=function(a,b){var c=0;this._ranges.forEach(function(b){var d=
b.length;switch(b.type){case 1:0<d?(a._insertItems(c,c+d),c+=d):0>d&&a._removeItems(c,c-d);break;case 2:a._updateItems(c,c+d);c+=d;break;default:c+=b.length}});if(!b&&a._items.length!=this.count)throw Error("unbalanced items update, view: "+a._items.length+", update:"+this.count);for(b=this._updateIndex;b<this.count;++b)a._updateDelegateIndex(b);this._reset()};var c=a.ArrayModelWrapper=function(a){this.data=a;this.count=a.length};c.prototype.get=function(a){return{value:this.data[a]}};c.prototype.on=
function(){};c.prototype.removeListener=function(){};return a}();g.core.transform=function(){var a={},b=function(a,b){this.value=a;this.unit=b},c=b.prototype;c.constructor=b;c.toString=function(){var a=this.unit;return void 0!=a?this.value+a:this.value};c=function(){this.transforms={}};var d=c.prototype;d.constructor=c;d.add=function(a,c,d){this.transforms[a]=new b(c,d)};d.toString=function(){var a=this.transforms,b="",c;for(c in a)b+=c+"("+a[c]+") ";return b};a.Transform=c;return a}();g.html5.html=
function(){var a={},b=window.Modernizr;a.capabilities={csstransforms3d:b.csstransforms3d,csstransforms:b.csstransforms,csstransitions:b.csstransitions,mouseEnterLeaveSupported:"netcast"!=g.core.os};var c=null;a.createAddRule=function(a){if((a.sheet||{}).insertRule)return b=a.sheet,function(a,c){try{b.insertRule(a+"{"+c+"}",b.cssRules.length)}catch(C){log("insertRule failed on rule "+a)}};var b=a.styleSheet||a.sheet;return function(a,c){try{b.addRule(a,c)}catch(C){log("addRule failed on rule "+a)}}};
var f=function(){this._cache={}},e=f.prototype;e.constructor=f;e.update=function(a,b,c){var d=this._cache,f=a._uniqueId,e=d[f];void 0!==e?(e.data[b]=c,++e.size):(e={},e[b]=c,d[f]={data:e,element:a,size:1})};e.pop=function(a){a=a._uniqueId;var b=this._cache[a];if(void 0!==b)return delete this._cache[a],b};e.apply=function(){var a=this._cache;this._cache={};for(var b in a){var c=a[b];c.element.updateStyle(c)}};var l=function(b){var c=document.createElement("style");c.type="text/css";document.head.appendChild(c);
this.prefix=b+"C-";this.style=c;this.total=0;this.stats={};this.classes={};this.classes_total=0;this._addRule=a.createAddRule(c)};e=l.prototype;e.constructor=l;e.add=function(a){this.stats[a]=(this.stats[a]||0)+1;++this.total};e.register=function(a){a=a.join(";");var b=this.classes,c=b[a];if(void 0!==c)return c;c=b[a]=this.prefix+this.classes_total++;this._addRule("."+c,a);return c};e.classify=function(a){var b=this.total;if(10>b)return"";a.sort();var c=[],d=[],f=this.stats;a.forEach(function(a,e){.05<
f[a]/b&&(c.push(a),d.push(e))});if(2>d.length)return"";d.forEach(function(b,c){a.splice(b-c,1)});return this.register(c)};var k={};0<=g.core.userAgent.toLowerCase().indexOf("webkit")&&(k.appearance="-webkit-appearance");var n=function(a){var b=k[a];void 0===b&&(k[a]=b=window.Modernizr.prefixedCSS(a));return b};a.getPrefixedName=n;var m="touchstart touchmove touchend wheel mousewheel scroll".split(" "),p=b.passiveeventlisteners?{passive:!0}:!1,q="mousedown mouseup click dblclick mousemove mouseover mousewheel mouseout contextmenu mouseenter mouseleave".split(" "),
r=["touchstart","touchmove","touchend","touchcancel"],t=function(a){var b=a.__domEventListeners;void 0===b&&(b=a.__domEventListeners={});a.onListener("",function(c){var d=b[c]=a._context.wrapNativeCallback(function(){a.emitWithArgs(c,arguments)});d=[c,d];0<=m.indexOf(c)&&d.push(p);if(0<=q.indexOf(c)){var f=a.__mouseHandlerCount=~~a.__mouseHandlerCount+1;1===f&&a.style("pointer-events","auto")}0<=r.indexOf(c)&&(f=a.__touchHandlerCount=~~a.__touchHandlerCount+1,1===f&&a.style("touch-action","auto"));
a.dom.addEventListener.apply(a.dom,d)},function(c){if(0<=q.indexOf(c)){var d=a.__mouseHandlerCount=~~a.__mouseHandlerCount-1;0>=d&&a.style("pointer-events","none")}0<=r.indexOf(c)&&(d=a.__touchHandlerCount=~~a.__touchHandlerCount-1,0>=d&&a.style("touch-action","none"));a.dom.removeEventListener(c,b[c])})},u={};a.loadExternalStylesheet=function(a){if(!u[a]){var b=document.createElement("link");b.setAttribute("rel","stylesheet");b.setAttribute("href",a);document.head.appendChild(b);u[a]=!0}};var v=
0,x={};a.Element=function(a,b,c){if("string"===typeof b){void 0===c&&(c="");var d=b+"."+c;x[d]||(b=document.createElement(b),($manifest$html5$prefix||c)&&b.classList.add($manifest$html5$prefix+c),$manifest$html5$prefix&&c&&b.classList.add($manifest$html5$prefix+""),x[d]=b);this.dom=x[d].cloneNode(!1)}else this.dom=b;g.core.RAIIEventEmitter.apply(this);this._context=a;this._transitions={};this._class="";this._uniqueId=(++v).toString(36);this._firstChildIndex=0;t(this)};e=a.Element.prototype=Object.create(g.core.RAIIEventEmitter.prototype);
e.constructor=a.Element;e.addClass=function(a){this.dom.classList.add(a)};e.appendChildren=function(a){if(0<a.length){var b=document.createDocumentFragment();a.forEach(function(a){b.appendChild(a)});this.dom.appendChild(b)}};e.removeChildren=function(a){var b=[],c=this.dom;a.children.forEach(function(a){a=a.element;void 0!==a&&(a=a.dom,a.parentNode===c&&(c.removeChild(a),b.push(a)))});return b};e.setHtml=function(a,b){var c=this.dom;b=void 0!==b?this.removeChildren(b):[];c.innerHTML=a;this.appendChildren(b)};
e.width=function(){this.updateStyle();return this.dom.clientWidth};e.height=function(){this.updateStyle();return this.dom.clientHeight};e.fullWidth=function(){this.updateStyle();return this.dom.scrollWidth};e.fullHeight=function(){this.updateStyle();return this.dom.scrollHeight};var y=["overflow","overflow-x","overflow-y"];e.style=function(a,b){var c=this._context._styleCache;if(void 0!==b)c.update(this,a,b),0<=y.indexOf(a)&&(c.update(this,"pointer-events","auto"),c.update(this,"touch-action","auto"));
else if("object"===typeof a)for(var d in a)0<=y.indexOf(a)&&(c.update(this,"pointer-events","auto"),c.update(this,"touch-action","auto")),c.update(this,d,a[d]);else throw Error("cache is write-only");};e.setAttribute=function(a,b){return this.dom.setAttribute(a,b)};e.getAttribute=function(a){return this.dom.getAttribute(a)};e.setProperty=function(a,b){return this.dom[a]=b};e.getProperty=function(a){return this.dom[a]};var z={left:"px",top:"px",width:"px",height:"px","border-radius":"px","border-width":"px",
"margin-left":"px","margin-top":"px","margin-right":"px","margin-bottom":"px","padding-left":"px","padding-top":"px","padding-right":"px","padding-bottom":"px",padding:"px"};e.forceLayout=function(){this.updateStyle();return this.dom.offsetWidth|this.dom.offsetHeight};e.updateStyle=function(a){var b=this.dom;if(b){if(void 0===a&&(a=this._context._styleCache.pop(this),void 0===a))return;a=a.data;b=b.style;for(var c in a){var d=a[c],f=n(c);f=!1!==f?f:c;d instanceof g.core.Color?d=d.rgba():Array.isArray(d)&&
(d=d.join(","));if("number"===typeof d){var e=z[c];void 0!==e&&(d+=e)}b[f]=d}}};e.append=function(b){this.dom.appendChild(b instanceof a.Element?b.dom:b)};e.prepend=function(b){this.dom.insertBefore(b instanceof a.Element?b.dom:b,this.dom.childNodes[0])};e.discard=function(){g.core.RAIIEventEmitter.prototype.discard.apply(this);this.remove()};e.remove=function(){var a=this.dom;a.parentNode&&a.parentNode.removeChild(a)};e.focus=function(){var a=this.dom;a.focus();a.select()};e.blur=function(){this.dom.blur()};
e.getScrollX=function(){return this.dom.scrollLeft};e.getScrollY=function(){return this.dom.scrollTop};a.Document=function(a,b){g.core.RAIIEventEmitter.apply(this);this._context=a;this.dom=b;t(this)};(a.Document.prototype=Object.create(g.core.RAIIEventEmitter.prototype)).constructor=a.Document;a.Window=function(a,b){g.core.RAIIEventEmitter.apply(this);this._context=a;this.dom=b;t(this)};e=a.Window.prototype=Object.create(g.core.RAIIEventEmitter.prototype);e.constructor=a.Window;e.width=function(){return this.dom.innerWidth};
e.height=function(){return this.dom.innerHeight};e.scrollY=function(){return this.dom.scrollY};e.style=function(){};a.getElement=function(b,c){var d=document.getElementsByTagName(c);if(1!=d.length)throw Error("no tag "+c+"/multiple tags");return new a.Element(b,d[0])};a.init=function(e){c=new g.html5.cache.Cache(A);e._styleCache=new f;var h=e.options,k=e._prefix,n=h.id;h=h.tag||"div";k&&log("Context: using prefix",k+"-");k=new g.html5.html.Document(e,document);e.document=k;var m=new g.html5.html.Window(e,
window);e.window=m;var W=document.getElementById(n);if(null!==W){W=new a.Element(e,W);k=W.width();var p=W.height();log("Context: found element by id, size: "+k+"x"+p);m.on("resize",function(){e.width=W.width();e.height=W.height()})}else k=m.width(),p=m.height(),log("Context: window size: "+k+"x"+p),W=a.createElement(e,h),W.dom.id=n,m.on("resize",function(){e.width=m.width();e.height=m.height()}),a.getElement(e,"body").append(W);b.canvastext?(e._textCanvas=a.createElement(e,"canvas"),e._textCanvas.style("width",
0),e._textCanvas.style("height",0),W.append(e._textCanvas),e._textCanvasContext="getContext"in e._textCanvas.dom?e._textCanvas.dom.getContext("2d"):null):e._textCanvasContext=null;e.element=W;e.width=k;e.height=p;m.on("scroll",function(a){e.scrollY=m.scrollY()});var w=function(a){a=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;log("fullscreen change event:",a);e.fullscreen=a};["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].forEach(function(a){W.on(a,
w,!0)});m.on("keydown",e.wrapNativeCallback(function(a){var b=a.which||a.keyCode,c=d.keyCodes[b];void 0!==c?e.processKey(c,a)&&a.preventDefault():log("unhandled keycode "+b+": ["+a.charCode+" "+a.keyCode+" "+a.which+" "+a.key+" "+a.code+" "+a.location+"]")}));m.on("orientationchange",function(a){log("orientation changed event");e.system.screenWidth=window.screen.width;e.system.screenHeight=window.screen.height});e._styleClassifier=$manifest$cssAutoClassificator?new l(e._prefix):null};a.initSystem=
function(a){var b=a._context.window;b.on("focus",function(){a.pageActive=!0});b.on("blur",function(){a.pageActive=!1});a.screenWidth=window.screen.width;a.screenHeight=window.screen.height};a.createElement=function(b,c,d){return new a.Element(b,c,d)};a.initRectangle=function(a){};var A=function(a,b){var c=new Image;c.onerror=function(){c.onload=null;c.onerror=null;b(null)};c.onload=function(){c.onload=null;c.onerror=null;b({width:c.naturalWidth,height:c.naturalHeight})};c.src=a};a.initImage=function(a){};
a.loadImage=function(a,b){0>a.source.indexOf("?")?c.get(a.source,b):A(a.source,b)};a.initText=function(a){};var B=function(a,b){switch(a.verticalAlignment){case a.AlignTop:a._topPadding=0;break;case a.AlignBottom:a._topPadding=a.height-a.paintedHeight;break;case a.AlignVCenter:a._topPadding=(a.height-a.paintedHeight)/2}b["padding-top"]=a._topPadding;b.height=a.height-a._topPadding;a.style(b)};a.setText=function(a,b){a.element.setHtml(b,a)};a.layoutText=function(a){var b=a._context._textCanvasContext,
c=a.wrapMode!==g.core.Text.NoWrap,d=a.element,f=a.textFormat===a.Html||0<=a.text.search(/[<&]/);if(c||null===b||f){b=d.removeChildren(a);c?a.style({height:"auto","padding-top":0}):a.style({width:"auto",height:"auto","padding-top":0});f=d.fullWidth()+1;var e=d.fullHeight()+1;f+1!==a.paintedWidth&&(a.paintedWidth=f);e+1!==a.paintedHeight&&(a.paintedHeight=e);B(a,c?{}:{width:a.width});d.appendChildren(b)}else c=a.font,d=c.pointSize?Math.round(96*c.pointSize/72):c.pixelSize,b.font=d+"px "+c.family,b=
b.measureText(a.text),a.paintedWidth=b.width,a.paintedHeight=d*c.lineHeight,B(a,{})};a.run=function(a,b){a.window.on("message",function(b){log("Context: received message from "+b.origin,b);a.message(b)});a.window.on($manifest$expectRunContextEvent?"runContext":"load",function(){b()})};a.tick=function(a){a._styleCache.apply()};var D={width:"width",height:"height",x:"left",y:"top",viewX:"left",viewY:"top",opacity:"opacity",border:"border",radius:"border-radius",rotate:"transform",boxshadow:"box-shadow",
transform:"transform",visible:"visibility",visibleInView:"visibility",background:"background",color:"color",backgroundImage:"background-image",font:"font"};a.setAnimation=function(b,c,d){if(!a.capabilities.csstransitions||$manifest$cssDisableTransitions||d&&!d.cssTransition)return!1;c=D[c];if(void 0!==c){var f=a.getPrefixedName("transition-property"),e=a.getPrefixedName("transition-delay"),h=a.getPrefixedName("transition-duration"),g=a.getPrefixedName("transition-timing-function"),k=b.element;k.forceLayout();
c=a.getPrefixedName(c)||c;k=k._transitions;var l=k[f]||[],m=k[h]||[],n=k[g]||[],p=k[e]||[],w=l.indexOf(c);-1===w?d&&(l.push(c),m.push(d.duration+"ms"),n.push(d.easing),p.push(d.delay+"ms")):d&&d.active()?(m[w]=d.duration+"ms",n[w]=d.easing,p[w]=d.delay+"ms"):(l.splice(w,1),m.splice(w,1),n.splice(w,1),p.splice(w,1));k[f]=l;k[h]=m;k[g]=n;k[e]=p;if("orsay"===b._context.system.os||"netcast"===b._context.system.os)k["transition-property"]=l,k["transition-duration"]=m,k["transition-delay"]=p,k["transition-timing-function"]=
n;b.style(k);b=!0}else b=!1;return b};a.requestAnimationFrame=b.prefixed("requestAnimationFrame",window)||function(a){return setTimeout(a,0)};a.cancelAnimationFrame=b.prefixed("cancelAnimationFrame",window)||function(a){return clearTimeout(a)};a.enterFullscreenMode=function(a){return b.prefixed("requestFullscreen",a.dom)()};a.exitFullscreenMode=function(){return window.Modernizr.prefixed("exitFullscreen",document)()};a.inFullscreenMode=function(){return!!window.Modernizr.prefixed("fullscreenElement",
document)};a.ajax=function(a,b){a=b.url;var c=b.error,d=b.headers,f=b.done,e=b.settings,h=new XMLHttpRequest;c&&h.addEventListener("error",c);f&&h.addEventListener("load",f);h.open(b.method||"GET",a);for(var g in e)h[g]=e[g];for(g in d)h.setRequestHeader(g,d[g]);b.data?h.send(b.data):h.send()};a.fingerprint=function(b,c){try{var d=a.createElement(b,"canvas");d.dom.width=2E3;d.dom.height=32;var f=d.dom.getContext("2d");f.textBaseline="top";f.font="20px 'Arial'";f.textBaseline="alphabetic";f.fillStyle=
"#fedcba";f.fillRect(0,0,2E3,32);f.fillStyle="#12345678";f.fillText("ABCDEFGHIJKLMNOPQRSTUVWXYZ /0123456789 abcdefghijklmnopqrstuvwxyz \u00a3\u00a9\u00b5\u00c0\u00c6\u00d6\u00de\u00df\u00e9\u00f6\u00ff \u2013\u2014\u2018\u201c\u201d\u201e\u2020\u2022\u2026\u2030\u2122\u0153\u0160\u0178\u017e\u20ac \u0391\u0392\u0393\u0394\u03a9\u03b1\u03b2\u03b3\u03b4\u03c9 \u0410\u0411\u0412\u0413\u0414\u0430\u0431\u0432\u0433\u0434 \u2200\u2202\u2208\u211d\u2227\u222a\u2261\u221e \u2191\u2197\u21a8\u21bb\u21e3 \u2510\u253c\u2554\u2558\u2591\u25ba\u263a\u2640 \ufb01\ufffd\u2440\u2082\u1f20\u1e02\u04e5\u1e84\u0250\u02d0\u234e\u05d0\u0531\u10d0",
1.5,23.5,2E3);f.font="19.5px 'Arial'";f.fillStyle="#789abcde";f.fillText("ABCDEFGHIJKLMNOPQRSTUVWXYZ /0123456789 abcdefghijklmnopqrstuvwxyz \u00a3\u00a9\u00b5\u00c0\u00c6\u00d6\u00de\u00df\u00e9\u00f6\u00ff \u2013\u2014\u2018\u201c\u201d\u201e\u2020\u2022\u2026\u2030\u2122\u0153\u0160\u0178\u017e\u20ac \u0391\u0392\u0393\u0394\u03a9\u03b1\u03b2\u03b3\u03b4\u03c9 \u0410\u0411\u0412\u0413\u0414\u0430\u0431\u0432\u0433\u0434 \u2200\u2202\u2208\u211d\u2227\u222a\u2261\u221e \u2191\u2197\u21a8\u21bb\u21e3 \u2510\u253c\u2554\u2558\u2591\u25ba\u263a\u2640 \ufb01\ufffd\u2440\u2082\u1f20\u1e02\u04e5\u1e84\u0250\u02d0\u234e\u05d0\u0531\u10d0",
1,22,2E3);c.update(d.dom.toDataURL())}catch(C){log("canvas test failed: "+C)}try{c.update(window.navigator.userAgent)}catch(C){log(C)}try{c.update(window.navigator.plugins)}catch(C){log(C)}try{c.update(window.navigator.mimeTypes)}catch(C){log(C)}try{c.update(window.navigator.language)}catch(C){log(C)}try{c.update(window.navigator.platform)}catch(C){log(C)}try{c.update(window.navigator.product)}catch(C){log(C)}try{c.update(window.navigator.productSub)}catch(C){log(C)}try{c.update(window.navigator.vendorSub)}catch(C){log(C)}try{c.update(window.navigator.hardwareConcurrency)}catch(C){log(C)}try{c.update(window.screen.availWidth)}catch(C){log(C)}try{c.update(window.screen.availHeight)}catch(C){log(C)}try{c.update(window.screen.colorDepth)}catch(C){log(C)}};
return a}();g.html5.cache=function(){var a={},b=function(){return Math.floor((new Date).getTime()/1E3)},c=function(){this.created=b();this.waiters=[];this.invoker=null};c.prototype.expired=function(a){return b()-this.created>=a};c.prototype.set=function(a){this.created=b();for(a=this.invoker=g.core.safeCall(null,[a],function(a){log("cache entry callback failed: ",a,a.stack)});this.waiters.length;){var c=this.waiters;this.waiters=[];c.forEach(a)}this.waiters=null};c.prototype.wait=function(a){null!==
this.invoker?this.invoker(a):this.waiters.push(a)};var d=function(a,b){if(!a)throw Error("create callback is required");this._create=a;this._ttl=b||3600;this._cache={};setInterval(this.cleanup.bind(this),this._ttl/2*1E3)};d.prototype.get=function(a,b){var d=this._cache[a];if(void 0===d||d.expired(this._ttl))this._cache[a]=d=new c,this._create(a,function(a){d.set(a)});d.wait(b)};d.prototype.cleanup=function(){for(var a in this._cache)this._cache[a].expired(this._ttl)&&delete this._cache[a]};a.Cache=
d;return a}();g.html5.localstorage=function(){var a={},b=function(a){this._storage=window.localStorage;if(!this._storage)throw Error("no local storage support");};b.prototype.get=function(a,b,d){var c=this._storage.getItem(a);null!==c?b(c):d(Error("no item with name "+a))};b.prototype.set=function(a,b){this._storage.setItem(a,b)};b.prototype.erase=function(a,b){this._storage.removeItem(a)};a.createLocalStorage=function(a){return new b(a)};a.LocalStorage=b;return a}();g.html5.location=function(){var a=
{},b=function(a){this._ui=a;var b=window.location;this.updateActualValues();var c=this;a=a._context;a.window.on("hashchange",function(){c._ui.hash=b.hash}.bind(this));a.window.on("popstate",function(){c.updateActualValues()}.bind(this))};b.prototype.updateActualValues=function(){var a=this._ui,b=a._context.window.dom;a.hash=b.location.hash;a.href=b.location.href;a.port=b.location.port;a.host=b.location.host;a.origin=b.location.origin;a.hostname=b.location.hostname;a.pathname=b.location.pathname;a.protocol=
b.location.protocol;a.search=b.location.search;a.state=b.history.state};b.prototype.changeHref=function(a){this._ui._context.window.dom.location.href=a;this.updateActualValues()};b.prototype.pushState=function(a,b,d){var c=this._ui,f=c._context.window.dom;f.location.hostname?(f.history.pushState(a,b,d),this.updateActualValues()):(c._context.document.title=b,this._ui.state=a)};a.createLocation=function(a){return new b(a)};a.Location=b;return a}();g.video.html5.backend=function(){var a={},b=function(a){var b=
a._context.createElement("video");b.dom.preload="metadata";this.element=b;this.ui=a;this.setEventListeners();a.element.remove();a.element=b;a.parent.element.append(a.element);this._xhr=new XMLHttpRequest;this._xhr.addEventListener("load",this.parseManifest.bind(this))};b.prototype.setEventListeners=function(){var a=this.element,b=a.dom,d=this.ui;a.on("play",function(){d.waiting=!1;d.paused=b.paused}.bind(d));a.on("pause",function(){d.paused=b.paused}.bind(d));a.on("ended",function(){d.finished()}.bind(d));
a.on("seeked",function(){log("seeked");d.seeking=!1;d.waiting=!1}.bind(d));a.on("canplay",function(){log("canplay",b.readyState);d.ready=b.readyState}.bind(d));a.on("seeking",function(){log("seeking");d.seeking=!0;d.waiting=!0}.bind(d));a.on("waiting",function(){log("waiting");d.waiting=!0}.bind(d));a.on("stalled",function(){log("Was stalled",b.networkState);d.stalled=!0}.bind(d));a.on("emptied",function(){log("Was emptied",b.networkState)}.bind(d));a.on("volumechange",function(){d.muted=b.muted}.bind(d));
a.on("canplaythrough",function(){log("ready to play");d.paused=b.paused}.bind(d));a.on("error",function(){log("Player error occurred",b.error,"src",d.source);if(b.error&&d.source)switch(d.error(b.error),log("player.error",b.error),b.error.code){case 1:log("MEDIA_ERR_ABORTED error occurred");break;case 2:log("MEDIA_ERR_NETWORK error occurred");break;case 3:log("MEDIA_ERR_DECODE error occurred");break;case 4:log("MEDIA_ERR_SRC_NOT_SUPPORTED error occurred");break;default:log("UNDEFINED error occurred")}}.bind(d));
a.on("timeupdate",function(){d.waiting=!1;d.stalled=!1;d.seeking||(d.progress=b.currentTime)}.bind(d));a.on("durationchange",function(){var a=b.duration;log("Duration",a);d.duration=isFinite(a)?a:0}.bind(d));a.on("progress",function(){var a=b.buffered.length-1;d.waiting=!1;0<=a&&(d.buffered=b.buffered.end(a)-b.buffered.start(a))}.bind(d));this.setOption("autoplay",d.autoPlay)};b.prototype.parseManifest=function(a){a=a.target.responseText.split("\n");var b=this.ui.source,c=b.substring(0,b.lastIndexOf("/")+
1);b=0;this._videoTracks=[{name:"auto",url:this.ui.source,id:b}];this._totalTracks={};this._audioTracksInfo=[];for(var d=0;d<a.length-1;++d){var e=a[d],g=a[d+1];if(0==e.indexOf("#EXT-X-STREAM-INF")){e=e.split(",");g={url:0===g.indexOf("http")?g:c+g};for(var k=0;k<e.length;++k){var l=e[k].split("=");if(1<l.length)switch(l[0].trim().toLowerCase()){case "bandwidth":g.bandwidth=l[1].trim();break;case "audio":g.audio=l[1].trim().replace(/"/g,"");break;case "resolution":l=l[1].split("x"),g.width=l[0],g.height=
l[1]}}e=g.width+"x"+g.height;this._totalTracks[e]||(this._totalTracks[e]=[]);this._totalTracks[e].push(g)}else if(0==e.indexOf("#EXT-X-MEDIA:TYPE=AUDIO")){e=e.split(",");g={};for(k=0;k<e.length;++k)if(l=e[k].split("="),1<l.length)switch(l[0].trim().toLowerCase()){case "group-id":g.id=l[1].trim().replace(/"/g,"");break;case "name":g.label=l[1].trim().replace(/"/g,"");break;case "language":g.language=l[1].trim().replace(/"/g,"");break;case "uri":g.url=l[1].trim()}this._audioTracksInfo.push(g)}}for(d in this._totalTracks)a=
this._totalTracks[d][0],a.id=++b,this._videoTracks.push(a)};b.prototype.getFileExtension=function(a){if(!a)return"";var b=a.toLowerCase();a=a.indexOf("?");0<=a&&(b=b.substring(0,a));a=b.lastIndexOf(".");return b.substring(a,b.length)};b.prototype.setSource=function(a){this.ui.ready=!1;this._extension=this.getFileExtension(a);a&&this._xhr&&(".m3u8"===this._extension||".m3u"===this._extension)&&(this._xhr.open("GET",a),this._xhr.send());this.ui.startPosition&&(a+="#t="+this.ui.startPosition);this.element.dom.src=
a};b.prototype.play=function(){this.element.dom.play()};b.prototype.pause=function(){this.element.dom.pause()};b.prototype.stop=function(){this.pause()};b.prototype.seek=function(a){this.element.dom.currentTime+=a};b.prototype.seekTo=function(a){this.element.dom.currentTime=a};b.prototype.setVolume=function(a){this.element.dom.volume=a};b.prototype.setMute=function(a){this.element.dom.muted=a};b.prototype.setLoop=function(a){this.element.dom.loop=a};b.prototype.setOption=function(a,b){"autoplay"===
a?b?this.element.dom.setAttribute("autoplay",""):this.element.dom.removeAttribute("autoplay"):this.element.dom.setAttribute(a,b)};b.prototype.setRect=function(a,b,d,e){};b.prototype.setVisibility=function(a){log("VISIBILITY LOGIC MISSING HERE, visible:",a)};b.prototype.setupDrm=function(a,b,d,e){log("Not implemented")};b.prototype.getAudioTracks=function(){log("Not implemented");return[]};b.prototype.getVideoTracks=function(){return this._videoTracks||[]};b.prototype.getAudioTracks=function(){for(var a=
this.element.dom.audioTracks,b=[],d=0;d<a.length;++d){var e=a[d],g=this._audioTracksInfo[d];b.push({id:d,name:e.label?e.label:g.name,language:e.language?e.language:g.language})}log("getAudioTracks",b);return b};b.prototype.setAudioTrack=function(a){var b=this.element.dom.audioTracks;if(0>a||a>=b.length)log("Where is no track",a);else{log("Set audio track",b[a]);for(var c=0;c<b.length;++c)b[c].enabled=c===a}};b.prototype.setVideoTrack=function(a){if(!this._videoTracks||0>=this._videoTracks.length)log("There is no available video track",
this._videoTracks);else if(0>a||a>=this._videoTracks.length)log("Track with id",a,"not found");else{this.ui.waiting=!0;var b=this.ui.progress;log("Set video",this._videoTracks[a]);this.element.dom.src=this._videoTracks[a].url;this.seekTo(b)}};b.prototype.setVideoTrack=function(a){if(!this._videoTracks||0>=this._videoTracks.length)log("There is no available video track",this._videoTracks);else if(0>a||a>=this._videoTracks.length)log("Track with id",a,"not found");else{this.ui.waiting=!0;var b=this.ui.progress;
log("Set video",this._videoTracks[a]);this.element.dom.src=this._videoTracks[a].url;this.seekTo(b)}};b.prototype.setBackgroundColor=function(a){this.element.dom.style.backgroundColor=(new g.core.Color(a)).rgba()};a.createPlayer=function(a){return new b(a)};a.probeUrl=function(a){return 50};a.Player=b;return a}();g.web.device=function(){var a={},b=function(a){var b=a._context;if($manifest$system$fingerprint){var c=new Sa.fingerprint.fingerprint.Fingerprint;b.backend.fingerprint(b,c);a.deviceId=c.finalize();
log("deviceId",a.deviceId)}else b=b.system.os+"_"+b.system.browser,b=b.replace(/\s/g,""),a.deviceId=b+"_"+Math.random().toString(36).substr(2,9)};a.createDevice=function(a){return new b(a)};a.Device=b;return a}();g.controls.pure.format=function(){return{currency:function(a,b,c){c="\\d(?=(\\d{"+(c||3)+"})+"+(0<b?"\\.":"$")+")";return a.toFixed(Math.max(0,~~b)).replace(new RegExp(c,"g"),"$&,")},format:function(){var a=[].slice.call(arguments),b=a.shift();return a.reduce(function(a,b){return a.replace("%s",
b)},b)}}}();return g}(),l10n={},context=qml._context=new qml.core.Context(null,!1,{id:"qml-context-app",l10n:l10n,nativeContext:null});context.init();context.start(new qml.src.UiApp(context));context.run();
